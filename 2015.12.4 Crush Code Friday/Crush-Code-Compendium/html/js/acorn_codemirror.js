(function(e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)return define([],e);else this.CodeMirror=e()})(function(){"use strict";var e=/gecko\/\d/i.test(navigator.userAgent);var t=/MSIE \d/.test(navigator.userAgent);var r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var i=t||r;var n=i&&(t?document.documentMode||6:r[1]);var o=/WebKit\//.test(navigator.userAgent);var a=o&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var l=/Chrome\//.test(navigator.userAgent);var s=/Opera\//.test(navigator.userAgent);var u=/Apple Computer/.test(navigator.vendor);var f=/KHTML\//.test(navigator.userAgent);var c=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var d=/PhantomJS/.test(navigator.userAgent);var h=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var p=h||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var v=h||/Mac/.test(navigator.platform);var m=/win/i.test(navigator.platform);var g=s&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(g)g=Number(g[1]);if(g&&g>=15){s=false;o=true}var y=v&&(a||s&&(g==null||g<12.11));var b=e||i&&n>=9;var w=false,x=false;function k(e,t){if(!(this instanceof k))return new k(e,t);this.options=t=t?Yo(t):{};Yo(vi,t,false);H(t);var r=t.value;if(typeof r=="string")r=new qn(r,t.mode);this.doc=r;var a=this.display=new C(e,r);a.wrapper.CodeMirror=this;W(this);E(this);if(t.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";if(t.autofocus&&!p)or(this);B(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new jo,keySeq:null};if(i&&n<11)setTimeout(Zo(nr,this,true),20);sr(this);ma();zt(this);this.curOp.forceUpdate=true;Xn(this,r);if(t.autofocus&&!p||ua()==a.input)setTimeout(Zo(jr,this),20);else Rr(this);for(var l in mi)if(mi.hasOwnProperty(l))mi[l](this,t[l],yi);q(this);if(t.finishInit)t.finishInit(this);for(var s=0;s<ki.length;++s)ki[s](this);It(this);if(o&&t.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility")a.lineDiv.style.textRendering="auto"}function C(e,t){var r=this;var a=r.input=na("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(o)a.style.width="1000px";else a.setAttribute("wrap","off");if(h)a.style.border="1px solid black";a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck","false");r.inputDiv=na("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");r.scrollbarFiller=na("div",null,"CodeMirror-scrollbar-filler");r.scrollbarFiller.setAttribute("not-content","true");r.gutterFiller=na("div",null,"CodeMirror-gutter-filler");r.gutterFiller.setAttribute("not-content","true");r.lineDiv=na("div",null,"CodeMirror-code");r.selectionDiv=na("div",null,null,"position: relative; z-index: 1");r.cursorDiv=na("div",null,"CodeMirror-cursors");r.measure=na("div",null,"CodeMirror-measure");r.lineMeasure=na("div",null,"CodeMirror-measure");r.lineSpace=na("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");r.mover=na("div",[na("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative");r.sizer=na("div",[r.mover],"CodeMirror-sizer");r.sizerWidth=null;r.heightForcer=na("div",null,null,"position: absolute; height: "+Ho+"px; width: 1px;");r.gutters=na("div",null,"CodeMirror-gutters");r.lineGutter=null;r.scroller=na("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll");r.scroller.setAttribute("tabIndex","-1");r.wrapper=na("div",[r.inputDiv,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror");if(i&&n<8){r.gutters.style.zIndex=-1;r.scroller.style.paddingRight=0}if(h)a.style.width="0px";if(!o)r.scroller.draggable=true;if(f){r.inputDiv.style.height="1px";r.inputDiv.style.position="absolute"}if(e){if(e.appendChild)e.appendChild(r.wrapper);else e(r.wrapper)}r.viewFrom=r.viewTo=t.first;r.reportedViewFrom=r.reportedViewTo=t.first;r.view=[];r.renderedView=null;r.externalMeasured=null;r.viewOffset=0;r.lastWrapHeight=r.lastWrapWidth=0;r.updateLineNumbers=null;r.nativeBarWidth=r.barHeight=r.barWidth=0;r.scrollbarsClipped=false;r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null;r.prevInput="";r.alignWidgets=false;r.pollingFast=false;r.poll=new jo;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null;r.inaccurateSelection=false;r.maxLine=null;r.maxLineLength=0;r.maxLineChanged=false;r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null;r.shift=false;r.selForContextMenu=null}function S(e){e.doc.mode=k.getMode(e.options,e.doc.modeOption);L(e)}function L(e){e.doc.iter(function(e){if(e.stateAfter)e.stateAfter=null;if(e.styles)e.styles=null});e.doc.frontier=e.doc.first;Xe(e,100);e.state.modeGen++;if(e.curOp)_t(e)}function M(e){if(e.options.lineWrapping){da(e.display.wrapper,"CodeMirror-wrap");e.display.sizer.style.minWidth="";e.display.sizerWidth=null}else{ca(e.display.wrapper,"CodeMirror-wrap");I(e)}A(e);_t(e);mt(e);setTimeout(function(){j(e)},100)}function T(e){var t=At(e.display),r=e.options.lineWrapping;var i=r&&Math.max(5,e.display.scroller.clientWidth/Et(e.display)-3);return function(n){if(dn(e.doc,n))return 0;var o=0;if(n.widgets)for(var a=0;a<n.widgets.length;a++){if(n.widgets[a].height)o+=n.widgets[a].height}if(r)return o+(Math.ceil(n.text.length/i)||1)*t;else return o+t}}function A(e){var t=e.doc,r=T(e);t.iter(function(e){var t=r(e);if(t!=e.height)Jn(e,t)})}function E(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-");mt(e)}function N(e){W(e);_t(e);setTimeout(function(){V(e)},20)}function W(e){var t=e.display.gutters,r=e.options.gutters;aa(t);for(var i=0;i<r.length;++i){var n=r[i];var o=t.appendChild(na("div",null,"CodeMirror-gutter "+n));if(n=="CodeMirror-linenumbers"){e.display.lineGutter=o;o.style.width=(e.display.lineNumWidth||1)+"px"}}t.style.display=i?"":"none";z(e)}function z(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function O(e){if(e.height==0)return 0;var t=e.text.length,r,i=e;while(r=on(i)){var n=r.find(0,true);i=n.from.line;t+=n.from.ch-n.to.ch}i=e;while(r=an(i)){var n=r.find(0,true);t-=i.text.length-n.from.ch;i=n.to.line;t+=i.text.length-n.to.ch}return t}function I(e){var t=e.display,r=e.doc;t.maxLine=$n(r,r.first);t.maxLineLength=O(t.maxLine);t.maxLineChanged=true;r.iter(function(e){var r=O(e);if(r>t.maxLineLength){t.maxLineLength=r;t.maxLine=e}})}function H(e){var t=_o(e.gutters,"CodeMirror-linenumbers");if(t==-1&&e.lineNumbers){e.gutters=e.gutters.concat(["CodeMirror-linenumbers"])}else if(t>-1&&!e.lineNumbers){e.gutters=e.gutters.slice(0);e.gutters.splice(t,1)}}function D(e){var t=e.display,r=t.gutters.offsetWidth;var i=Math.round(e.doc.height+Qe(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:i,scrollHeight:i+tt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function P(e,t,r){this.cm=r;var o=this.vert=na("div",[na("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var a=this.horiz=na("div",[na("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(o);e(a);Lo(o,"scroll",function(){if(o.clientHeight)t(o.scrollTop,"vertical")});Lo(a,"scroll",function(){if(a.clientWidth)t(a.scrollLeft,"horizontal")});this.checkedOverlay=false;if(i&&n<8)this.horiz.style.minHeight=this.vert.style.minWidth="18px"}P.prototype=Yo({update:function(e){var t=e.scrollWidth>e.clientWidth+1;var r=e.scrollHeight>e.clientHeight+1;var i=e.nativeBarWidth;if(r){this.vert.style.display="block";this.vert.style.bottom=t?i+"px":"0";var n=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+n)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(t){this.horiz.style.display="block";this.horiz.style.right=r?i+"px":"0";this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedOverlay&&e.clientHeight>0){if(i==0)this.overlayHack();this.checkedOverlay=true}return{right:r?i:0,bottom:t?i:0}},setScrollLeft:function(e){if(this.horiz.scrollLeft!=e)this.horiz.scrollLeft=e},setScrollTop:function(e){if(this.vert.scrollTop!=e)this.vert.scrollTop=e},overlayHack:function(){var e=v&&!c?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this;var r=function(e){if(Co(e)!=t.vert&&Co(e)!=t.horiz)Ut(t.cm,dr)(e)};Lo(this.vert,"mousedown",r);Lo(this.horiz,"mousedown",r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz);e.removeChild(this.vert)}},P.prototype);function F(){}F.prototype=Yo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},F.prototype);k.scrollbarModel={"native":P,"null":F};function B(e){if(e.display.scrollbars){e.display.scrollbars.clear();if(e.display.scrollbars.addClass)ca(e.display.wrapper,e.display.scrollbars.addClass)}e.display.scrollbars=new k.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller);Lo(t,"mousedown",function(){if(e.state.focused)setTimeout(Zo(or,e),0)});t.setAttribute("not-content","true")},function(t,r){if(r=="horizontal")Sr(e,t);else Cr(e,t)},e);if(e.display.scrollbars.addClass)da(e.display.wrapper,e.display.scrollbars.addClass)}function j(e,t){if(!t)t=D(e);var r=e.display.barWidth,i=e.display.barHeight;R(e,t);for(var n=0;n<4&&r!=e.display.barWidth||i!=e.display.barHeight;n++){if(r!=e.display.barWidth&&e.options.lineWrapping)Q(e);R(e,D(e));r=e.display.barWidth;i=e.display.barHeight}}function R(e,t){var r=e.display;var i=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=i.right)+"px";r.sizer.style.paddingBottom=(r.barHeight=i.bottom)+"px";if(i.right&&i.bottom){r.scrollbarFiller.style.display="block";r.scrollbarFiller.style.height=i.bottom+"px";r.scrollbarFiller.style.width=i.right+"px"}else r.scrollbarFiller.style.display="";if(i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter){r.gutterFiller.style.display="block";r.gutterFiller.style.height=i.bottom+"px";r.gutterFiller.style.width=t.gutterWidth+"px"}else r.gutterFiller.style.display=""}function U(e,t,r){var i=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;i=Math.floor(i-Je(e));var n=r&&r.bottom!=null?r.bottom:i+e.wrapper.clientHeight;var o=eo(t,i),a=eo(t,n);if(r&&r.ensure){var l=r.ensure.from.line,s=r.ensure.to.line;if(l<o){o=l;a=eo(t,to($n(t,l))+e.wrapper.clientHeight)}else if(Math.min(s,t.lastLine())>=a){o=eo(t,to($n(t,s))-e.wrapper.clientHeight);a=s}}return{from:o,to:Math.max(a,o+1)}}function V(e){var t=e.display,r=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;var i=K(t)-t.scroller.scrollLeft+e.doc.scrollLeft;var n=t.gutters.offsetWidth,o=i+"px";for(var a=0;a<r.length;a++)if(!r[a].hidden){if(e.options.fixedGutter&&r[a].gutter)r[a].gutter.style.left=o;var l=r[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}if(e.options.fixedGutter)t.gutters.style.left=i+n+"px"}function q(e){if(!e.options.lineNumbers)return false;var t=e.doc,r=G(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var n=i.measure.appendChild(na("div",[na("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var o=n.firstChild.offsetWidth,a=n.offsetWidth-o;i.lineGutter.style.width="";i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a);i.lineNumWidth=i.lineNumInnerWidth+a;i.lineNumChars=i.lineNumInnerWidth?r.length:-1;i.lineGutter.style.width=i.lineNumWidth+"px";z(e);return true}return false}function G(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function K(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _(e,t,r){var i=e.display;this.viewport=t;this.visible=U(i,e.doc,t);this.editorIsHidden=!i.wrapper.offsetWidth;this.wrapperHeight=i.wrapper.clientHeight;this.wrapperWidth=i.wrapper.clientWidth;this.oldDisplayWidth=rt(e);this.force=r;this.dims=te(e);this.events=[]}_.prototype.signal=function(e,t){if(Oo(e,t))this.events.push(arguments)};_.prototype.finish=function(){for(var e=0;e<this.events.length;e++)To.apply(null,this.events[e])};function X(e){var t=e.display;if(!t.scrollbarsClipped&&t.scroller.offsetWidth){t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth;t.heightForcer.style.height=tt(e)+"px";t.sizer.style.marginBottom=-t.nativeBarWidth+"px";t.sizer.style.borderRightWidth=tt(e)+"px";t.scrollbarsClipped=true}}function $(e,t){var r=e.display,i=e.doc;if(t.editorIsHidden){$t(e);return false}if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Qt(e)==0)return false;if(q(e)){$t(e);t.dims=te(e)}var n=i.first+i.size;var o=Math.max(t.visible.from-e.options.viewportMargin,i.first);var a=Math.min(n,t.visible.to+e.options.viewportMargin);if(r.viewFrom<o&&o-r.viewFrom<20)o=Math.max(i.first,r.viewFrom);if(r.viewTo>a&&r.viewTo-a<20)a=Math.min(n,r.viewTo);if(x){o=fn(e.doc,o);a=cn(e.doc,a)}var l=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Jt(e,o,a);r.viewOffset=to($n(e.doc,r.viewFrom));e.display.mover.style.top=r.viewOffset+"px";var s=Qt(e);if(!l&&s==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return false;var u=ua();if(s>4)r.lineDiv.style.display="none";re(e,r.updateLineNumbers,t.dims);if(s>4)r.lineDiv.style.display="";r.renderedView=r.view;if(u&&ua()!=u&&u.offsetHeight)u.focus();aa(r.cursorDiv);aa(r.selectionDiv);r.gutters.style.height=0;if(l){r.lastWrapHeight=t.wrapperHeight;r.lastWrapWidth=t.wrapperWidth;Xe(e,400)}r.updateLineNumbers=null;return true}function Y(e,t){var r=t.force,i=t.viewport;for(var n=true;;n=false){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=rt(e)){r=true}else{r=false;if(i&&i.top!=null)i={top:Math.min(e.doc.height+Qe(e.display)-it(e),i.top)};t.visible=U(e.display,e.doc,i);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}if(!$(e,t))break;Q(e);var o=D(e);qe(e);J(e,o);j(e,o)}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo){t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo);e.display.reportedViewFrom=e.display.viewFrom;e.display.reportedViewTo=e.display.viewTo}}function Z(e,t){var r=new _(e,t);if($(e,r)){Q(e);Y(e,r);var i=D(e);qe(e);J(e,i);j(e,i);r.finish()}}function J(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px";e.display.gutters.style.height=Math.max(r+tt(e),t.clientHeight)+"px"}function Q(e){var t=e.display;var r=t.lineDiv.offsetTop;for(var o=0;o<t.view.length;o++){var a=t.view[o],l;if(a.hidden)continue;if(i&&n<8){var s=a.node.offsetTop+a.node.offsetHeight;l=s-r;r=s}else{var u=a.node.getBoundingClientRect();l=u.bottom-u.top}var f=a.line.height-l;if(l<2)l=At(t);if(f>.001||f<-.001){Jn(a.line,l);ee(a.line);if(a.rest)for(var c=0;c<a.rest.length;c++)ee(a.rest[c])}}}function ee(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function te(e){var t=e.display,r={},i={};var n=t.gutters.clientLeft;for(var o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){r[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+n;i[e.options.gutters[a]]=o.clientWidth}return{fixedPos:K(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function re(e,t,r){var i=e.display,n=e.options.lineNumbers;var a=i.lineDiv,l=a.firstChild;function s(t){var r=t.nextSibling;if(o&&v&&e.display.currentWheelTarget==t)t.style.display="none";else t.parentNode.removeChild(t);return r}var u=i.view,f=i.viewFrom;for(var c=0;c<u.length;c++){var d=u[c];if(d.hidden){}else if(!d.node){var h=ce(e,d,f,r);a.insertBefore(h,l)}else{while(l!=d.node)l=s(l);var p=n&&t!=null&&t<=f&&d.lineNumber;if(d.changes){if(_o(d.changes,"gutter")>-1)p=false;ie(e,d,f,r)}if(p){aa(d.lineNumber);d.lineNumber.appendChild(document.createTextNode(G(e.options,f)))}l=d.node.nextSibling}f+=d.size}while(l)l=s(l)}function ie(e,t,r,i){for(var n=0;n<t.changes.length;n++){var o=t.changes[n];if(o=="text")le(e,t);else if(o=="gutter")ue(e,t,r,i);else if(o=="class")se(t);else if(o=="widget")fe(t,i)}t.changes=null}function ne(e){if(e.node==e.text){e.node=na("div",null,null,"position: relative");if(e.text.parentNode)e.text.parentNode.replaceChild(e.node,e.text);e.node.appendChild(e.text);if(i&&n<8)e.node.style.zIndex=2}return e.node}function oe(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t)t+=" CodeMirror-linebackground";if(e.background){if(t)e.background.className=t;else{e.background.parentNode.removeChild(e.background);e.background=null}}else if(t){var r=ne(e);e.background=r.insertBefore(na("div",null,t),r.firstChild)}}function ae(e,t){var r=e.display.externalMeasured;if(r&&r.line==t.line){e.display.externalMeasured=null;t.measure=r.measure;return r.built}return zn(e,t)}function le(e,t){var r=t.text.className;var i=ae(e,t);if(t.text==t.node)t.node=i.pre;t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;if(i.bgClass!=t.bgClass||i.textClass!=t.textClass){t.bgClass=i.bgClass;t.textClass=i.textClass;se(t)}else if(r){t.text.className=r}}function se(e){oe(e);if(e.line.wrapClass)ne(e).className=e.line.wrapClass;else if(e.node!=e.text)e.node.className="";var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function ue(e,t,r,i){if(t.gutter){t.node.removeChild(t.gutter);t.gutter=null}var n=t.line.gutterMarkers;if(e.options.lineNumbers||n){var o=ne(t);var a=t.gutter=o.insertBefore(na("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.text);if(t.line.gutterClass)a.className+=" "+t.line.gutterClass;if(e.options.lineNumbers&&(!n||!n["CodeMirror-linenumbers"]))t.lineNumber=a.appendChild(na("div",G(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"));if(n)for(var l=0;l<e.options.gutters.length;++l){var s=e.options.gutters[l],u=n.hasOwnProperty(s)&&n[s];if(u)a.appendChild(na("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[s]+"px; width: "+i.gutterWidth[s]+"px"))}}}function fe(e,t){if(e.alignable)e.alignable=null;for(var r=e.node.firstChild,i;r;r=i){var i=r.nextSibling;if(r.className=="CodeMirror-linewidget")e.node.removeChild(r)}de(e,t)}function ce(e,t,r,i){var n=ae(e,t);t.text=t.node=n.pre;if(n.bgClass)t.bgClass=n.bgClass;if(n.textClass)t.textClass=n.textClass;se(t);ue(e,t,r,i);de(t,i);return t.node}function de(e,t){he(e.line,e,t,true);if(e.rest)for(var r=0;r<e.rest.length;r++)he(e.rest[r],e,t,false)}function he(e,t,r,i){if(!e.widgets)return;var n=ne(t);for(var o=0,a=e.widgets;o<a.length;++o){var l=a[o],s=na("div",[l.node],"CodeMirror-linewidget");if(!l.handleMouseEvents)s.setAttribute("cm-ignore-events","true");pe(l,s,t,r);if(i&&l.above)n.insertBefore(s,t.gutter||t.text);else n.appendChild(s);Eo(l,"redraw")}}function pe(e,t,r,i){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var n=i.wrapperWidth;t.style.left=i.fixedPos+"px";if(!e.coverGutter){n-=i.gutterTotalWidth;t.style.paddingLeft=i.gutterTotalWidth+"px"}t.style.width=n+"px"}if(e.coverGutter){t.style.zIndex=5;t.style.position="relative";if(!e.noHScroll)t.style.marginLeft=-i.gutterTotalWidth+"px"}}var ve=k.Pos=function(e,t){if(!(this instanceof ve))return new ve(e,t);this.line=e;this.ch=t};var me=k.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function ge(e){return ve(e.line,e.ch)}function ye(e,t){return me(e,t)<0?t:e}function be(e,t){return me(e,t)<0?e:t}function we(e,t){this.ranges=e;this.primIndex=t}we.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return true;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return false;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],i=e.ranges[t];if(me(r.anchor,i.anchor)!=0||me(r.head,i.head)!=0)return false}return true},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new xe(ge(this.ranges[t].anchor),ge(this.ranges[t].head));return new we(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return true;return false},contains:function(e,t){if(!t)t=e;for(var r=0;r<this.ranges.length;r++){var i=this.ranges[r];if(me(t,i.from())>=0&&me(e,i.to())<=0)return r}return-1}};function xe(e,t){this.anchor=e;this.head=t}xe.prototype={from:function(){return be(this.anchor,this.head)},to:function(){return ye(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function ke(e,t){var r=e[t];e.sort(function(e,t){return me(e.from(),t.from())});t=_o(e,r);for(var i=1;i<e.length;i++){var n=e[i],o=e[i-1];if(me(o.to(),n.from())>=0){var a=be(o.from(),n.from()),l=ye(o.to(),n.to());var s=o.empty()?n.from()==n.head:o.from()==o.head;if(i<=t)--t;e.splice(--i,2,new xe(s?l:a,s?a:l))}}return new we(e,t)}function Ce(e,t){return new we([new xe(e,t||e)],0)}function Se(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Le(e,t){if(t.line<e.first)return ve(e.first,0);var r=e.first+e.size-1;if(t.line>r)return ve(r,$n(e,r).text.length);return Me(t,$n(e,t.line).text.length)}function Me(e,t){var r=e.ch;if(r==null||r>t)return ve(e.line,t);else if(r<0)return ve(e.line,0);else return e}function Te(e,t){return t>=e.first&&t<e.first+e.size}function Ae(e,t){for(var r=[],i=0;i<t.length;i++)r[i]=Le(e,t[i]);return r}function Ee(e,t,r,i){if(e.cm&&e.cm.display.shift||e.extend){var n=t.anchor;if(i){var o=me(r,n)<0;if(o!=me(i,n)<0){n=r;r=i}else if(o!=me(r,i)<0){r=i}}return new xe(n,r)}else{return new xe(i||r,r)}}function Ne(e,t,r,i){De(e,new we([Ee(e,e.sel.primary(),t,r)],0),i)}function We(e,t,r){for(var i=[],n=0;n<e.sel.ranges.length;n++)i[n]=Ee(e,e.sel.ranges[n],t[n],null);var o=ke(i,e.sel.primIndex);De(e,o,r)}function ze(e,t,r,i){var n=e.sel.ranges.slice(0);n[t]=r;De(e,ke(n,e.sel.primIndex),i)}function Oe(e,t,r,i){De(e,Ce(t,r),i)}function Ie(e,t){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new xe(Le(e,t[r].anchor),Le(e,t[r].head))}};To(e,"beforeSelectionChange",e,r);if(e.cm)To(e.cm,"beforeSelectionChange",e.cm,r);if(r.ranges!=t.ranges)return ke(r.ranges,r.ranges.length-1);else return t}function He(e,t,r){var i=e.history.done,n=Go(i);if(n&&n.ranges){i[i.length-1]=t;Pe(e,t,r)}else{De(e,t,r)}}function De(e,t,r){Pe(e,t,r);uo(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Pe(e,t,r){if(Oo(e,"beforeSelectionChange")||e.cm&&Oo(e.cm,"beforeSelectionChange"))t=Ie(e,t);var i=r&&r.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1);Fe(e,je(e,t,i,true));if(!(r&&r.scroll===false)&&e.cm)si(e.cm)}function Fe(e,t){if(t.equals(e.sel))return;e.sel=t;if(e.cm){e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=true;zo(e.cm)}Eo(e,"cursorActivity",e)}function Be(e){Fe(e,je(e,e.sel,null,false),Po)}function je(e,t,r,i){var n;for(var o=0;o<t.ranges.length;o++){var a=t.ranges[o];var l=Re(e,a.anchor,r,i);var s=Re(e,a.head,r,i);if(n||l!=a.anchor||s!=a.head){if(!n)n=t.ranges.slice(0,o);n[o]=new xe(l,s)}}return n?ke(n,t.primIndex):t}function Re(e,t,r,i){var n=false,o=t;var a=r||1;e.cantEdit=false;e:for(;;){var l=$n(e,o.line);if(l.markedSpans){for(var s=0;s<l.markedSpans.length;++s){var u=l.markedSpans[s],f=u.marker;if((u.from==null||(f.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(u.to==null||(f.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(i){To(f,"beforeCursorEnter");if(f.explicitlyCleared){if(!l.markedSpans)break;else{--s;continue}}}if(!f.atomic)continue;var c=f.find(a<0?-1:1);if(me(c,o)==0){c.ch+=a;if(c.ch<0){if(c.line>e.first)c=Le(e,ve(c.line-1));else c=null}else if(c.ch>l.text.length){if(c.line<e.first+e.size-1)c=ve(c.line+1,0);else c=null}if(!c){if(n){if(!i)return Re(e,t,r,true);e.cantEdit=true;return ve(e.first,0)}n=true;c=t;a=-a}}o=c;continue e}}}return o}}function Ue(e){var t=e.display,r=e.doc,i={};var n=i.cursors=document.createDocumentFragment();var o=i.selection=document.createDocumentFragment();for(var a=0;a<r.sel.ranges.length;a++){var l=r.sel.ranges[a];var s=l.empty();if(s||e.options.showCursorWhenSelecting)Ge(e,l,n);if(!s)Ke(e,l,o)}if(e.options.moveInputWithCursor){var u=kt(e,r.sel.primary().head,"div");var f=t.wrapper.getBoundingClientRect(),c=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,u.top+c.top-f.top));i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,u.left+c.left-f.left))}return i}function Ve(e,t){la(e.display.cursorDiv,t.cursors);la(e.display.selectionDiv,t.selection);if(t.teTop!=null){e.display.inputDiv.style.top=t.teTop+"px";e.display.inputDiv.style.left=t.teLeft+"px"}}function qe(e){Ve(e,Ue(e))}function Ge(e,t,r){var i=kt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine);var n=r.appendChild(na("div"," ","CodeMirror-cursor"));n.style.left=i.left+"px";n.style.top=i.top+"px";n.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px";if(i.other){var o=r.appendChild(na("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="";o.style.left=i.other.left+"px";o.style.top=i.other.top+"px";o.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function Ke(e,t,r){var i=e.display,n=e.doc;var o=document.createDocumentFragment();var a=et(e.display),l=a.left;var s=Math.max(i.sizerWidth,rt(e)-i.sizer.offsetLeft)-a.right;function u(e,t,r,i){if(t<0)t=0;t=Math.round(t);i=Math.round(i);o.appendChild(na("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(r==null?s-e:r)+"px; height: "+(i-t)+"px"))}function f(t,r,i){var o=$n(n,t);var a=o.text.length;var f,c;function d(r,i){return xt(e,ve(t,r),"div",o,i)}Ea(ro(o),r||0,i==null?a:i,function(e,t,n){var o=d(e,"left"),h,p,v;if(e==t){h=o;p=v=o.left}else{h=d(t-1,"right");if(n=="rtl"){var m=o;o=h;h=m}p=o.left;v=h.right}if(r==null&&e==0)p=l;if(h.top-o.top>3){u(p,o.top,null,o.bottom);p=l;if(o.bottom<h.top)u(p,o.bottom,null,h.top)}if(i==null&&t==a)v=s;if(!f||o.top<f.top||o.top==f.top&&o.left<f.left)f=o;if(!c||h.bottom>c.bottom||h.bottom==c.bottom&&h.right>c.right)c=h;if(p<l+1)p=l;u(p,h.top,v-p,h.bottom)});return{start:f,end:c}}var c=t.from(),d=t.to();if(c.line==d.line){f(c.line,c.ch,d.ch)}else{var h=$n(n,c.line),p=$n(n,d.line);var v=sn(h)==sn(p);var m=f(c.line,c.ch,v?h.text.length+1:null).end;var g=f(d.line,v?0:null,d.ch).start;if(v){if(m.top<g.top-2){u(m.right,m.top,null,m.bottom);u(l,g.top,g.left,g.bottom)}else{u(m.right,m.top,g.left-m.right,m.bottom)}}if(m.bottom<g.top)u(l,m.bottom,null,g.top)}r.appendChild(o)}function _e(e){if(!e.state.focused)return;var t=e.display;clearInterval(t.blinker);var r=true;t.cursorDiv.style.visibility="";if(e.options.cursorBlinkRate>0)t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate);else if(e.options.cursorBlinkRate<0)t.cursorDiv.style.visibility="hidden"}function Xe(e,t){if(e.doc.mode.startState&&e.doc.frontier<e.display.viewTo)e.state.highlight.set(t,Zo($e,e))}function $e(e){var t=e.doc;if(t.frontier<t.first)t.frontier=t.first;if(t.frontier>=e.display.viewTo)return;var r=+new Date+e.options.workTime;var i=Si(t.mode,Ze(e,t.frontier));var n=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles;var l=Mn(e,o,i,true);o.styles=l.styles;var s=o.styleClasses,u=l.classes;if(u)o.styleClasses=u;else if(s)o.styleClasses=null;var f=!a||a.length!=o.styles.length||s!=u&&(!s||!u||s.bgClass!=u.bgClass||s.textClass!=u.textClass);for(var c=0;!f&&c<a.length;++c)f=a[c]!=o.styles[c];if(f)n.push(t.frontier);o.stateAfter=Si(t.mode,i)}else{An(e,o.text,i);o.stateAfter=t.frontier%5==0?Si(t.mode,i):null}++t.frontier;if(+new Date>r){Xe(e,e.options.workDelay);return true}});if(n.length)Rt(e,function(){for(var t=0;t<n.length;t++)Xt(e,n[t],"text")})}function Ye(e,t,r){var i,n,o=e.doc;var a=r?-1:t-(e.doc.mode.innerMode?1e3:100);for(var l=t;l>a;--l){if(l<=o.first)return o.first;var s=$n(o,l-1);if(s.stateAfter&&(!r||l<=o.frontier))return l;var u=Ro(s.text,null,e.options.tabSize);if(n==null||i>u){n=l-1;i=u}}return n}function Ze(e,t,r){var i=e.doc,n=e.display;if(!i.mode.startState)return true;var o=Ye(e,t,r),a=o>i.first&&$n(i,o-1).stateAfter;if(!a)a=Li(i.mode);else a=Si(i.mode,a);i.iter(o,t,function(r){An(e,r.text,a);var l=o==t-1||o%5==0||o>=n.viewFrom&&o<n.viewTo;r.stateAfter=l?Si(i.mode,a):null;++o});if(r)i.frontier=o;return a}function Je(e){return e.lineSpace.offsetTop}function Qe(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function et(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=la(e.measure,na("pre","x"));var r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;var i={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};if(!isNaN(i.left)&&!isNaN(i.right))e.cachedPaddingH=i;return i}function tt(e){return Ho-e.display.nativeBarWidth}function rt(e){return e.display.scroller.clientWidth-tt(e)-e.display.barWidth}function it(e){return e.display.scroller.clientHeight-tt(e)-e.display.barHeight}function nt(e,t,r){var i=e.options.lineWrapping;var n=i&&rt(e);if(!t.measure.heights||i&&t.measure.width!=n){var o=t.measure.heights=[];if(i){t.measure.width=n;var a=t.text.firstChild.getClientRects();for(var l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];if(Math.abs(s.bottom-u.bottom)>2)o.push((s.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function ot(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(Qn(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:true}}function at(e,t){t=sn(t);var r=Qn(t);var i=e.display.externalMeasured=new Gt(e.doc,t,r);i.lineN=r;var n=i.built=zn(e,i);i.text=n.pre;la(e.display.lineMeasure,n.pre);return i}function lt(e,t,r,i){return ft(e,ut(e,t),r,i)}function st(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Yt(e,t)];var r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}function ut(e,t){var r=Qn(t);var i=st(e,r);if(i&&!i.text)i=null;else if(i&&i.changes)ie(e,i,r,te(e));if(!i)i=at(e,t);var n=ot(i,t,r);return{line:t,view:i,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:false}}function ft(e,t,r,i,n){if(t.before)r=-1;var o=r+(i||""),a;if(t.cache.hasOwnProperty(o)){a=t.cache[o]}else{if(!t.rect)t.rect=t.view.text.getBoundingClientRect();if(!t.hasHeights){nt(e,t.view,t.rect);t.hasHeights=true}a=dt(e,t,r,i);if(!a.bogus)t.cache[o]=a}return{left:a.left,right:a.right,top:n?a.rtop:a.top,bottom:n?a.rbottom:a.bottom}}var ct={left:0,right:0,top:0,bottom:0};function dt(e,t,r,o){var a=t.map;var l,s,u,f;for(var c=0;c<a.length;c+=3){var d=a[c],h=a[c+1];if(r<d){s=0;u=1;f="left"}else if(r<h){s=r-d;u=s+1}else if(c==a.length-3||r==h&&a[c+3]>r){u=h-d;s=u-1;if(r>=h)f="right"}if(s!=null){l=a[c+2];if(d==h&&o==(l.insertLeft?"left":"right"))f=o;if(o=="left"&&s==0)while(c&&a[c-2]==a[c-3]&&a[c-1].insertLeft){l=a[(c-=3)+2];f="left"}if(o=="right"&&s==h-d)while(c<a.length-3&&a[c+3]==a[c+4]&&!a[c+5].insertLeft){l=a[(c+=3)+2];f="right"}break}}var p;if(l.nodeType==3){for(var c=0;c<4;c++){while(s&&ia(t.line.text.charAt(d+s)))--s;while(d+u<h&&ia(t.line.text.charAt(d+u)))++u;if(i&&n<9&&s==0&&u==h-d){p=l.parentNode.getBoundingClientRect();
}else if(i&&e.options.lineWrapping){var v=oa(l,s,u).getClientRects();if(v.length)p=v[o=="right"?v.length-1:0];else p=ct}else{p=oa(l,s,u).getBoundingClientRect()||ct}if(p.left||p.right||s==0)break;u=s;s=s-1;f="right"}if(i&&n<11)p=ht(e.display.measure,p)}else{if(s>0)f=o="right";var v;if(e.options.lineWrapping&&(v=l.getClientRects()).length>1)p=v[o=="right"?v.length-1:0];else p=l.getBoundingClientRect()}if(i&&n<9&&!s&&(!p||!p.left&&!p.right)){var m=l.parentNode.getClientRects()[0];if(m)p={left:m.left,right:m.left+Et(e.display),top:m.top,bottom:m.bottom};else p=ct}var g=p.top-t.rect.top,y=p.bottom-t.rect.top;var b=(g+y)/2;var w=t.view.measure.heights;for(var c=0;c<w.length-1;c++)if(b<w[c])break;var x=c?w[c-1]:0,k=w[c];var C={left:(f=="right"?p.right:p.left)-t.rect.left,right:(f=="left"?p.left:p.right)-t.rect.left,top:x,bottom:k};if(!p.left&&!p.right)C.bogus=true;if(!e.options.singleCursorHeightPerLine){C.rtop=g;C.rbottom=y}return C}function ht(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ta(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI;var i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*i,bottom:t.bottom*i}}function pt(e){if(e.measure){e.measure.cache={};e.measure.heights=null;if(e.rest)for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}}function vt(e){e.display.externalMeasure=null;aa(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)pt(e.display.view[t])}function mt(e){vt(e);e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null;if(!e.options.lineWrapping)e.display.maxLineChanged=true;e.display.lineNumChars=null}function gt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function yt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function bt(e,t,r,i){if(t.widgets)for(var n=0;n<t.widgets.length;++n)if(t.widgets[n].above){var o=mn(t.widgets[n]);r.top+=o;r.bottom+=o}if(i=="line")return r;if(!i)i="local";var a=to(t);if(i=="local")a+=Je(e.display);else a-=e.display.viewOffset;if(i=="page"||i=="window"){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+(i=="window"?0:yt());var s=l.left+(i=="window"?0:gt());r.left+=s;r.right+=s}r.top+=a;r.bottom+=a;return r}function wt(e,t,r){if(r=="div")return t;var i=t.left,n=t.top;if(r=="page"){i-=gt();n-=yt()}else if(r=="local"||!r){var o=e.display.sizer.getBoundingClientRect();i+=o.left;n+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:n-a.top}}function xt(e,t,r,i,n){if(!i)i=$n(e.doc,t.line);return bt(e,i,lt(e,i,t.ch,n),r)}function kt(e,t,r,i,n,o){i=i||$n(e.doc,t.line);if(!n)n=ut(e,i);function a(t,a){var l=ft(e,n,t,a?"right":"left",o);if(a)l.left=l.right;else l.right=l.left;return bt(e,i,l,r)}function l(e,t){var r=s[t],i=r.level%2;if(e==Na(r)&&t&&r.level<s[t-1].level){r=s[--t];e=Wa(r)-(r.level%2?0:1);i=true}else if(e==Wa(r)&&t<s.length-1&&r.level<s[t+1].level){r=s[++t];e=Na(r)-r.level%2;i=false}if(i&&e==r.to&&e>r.from)return a(e-1);return a(e,i)}var s=ro(i),u=t.ch;if(!s)return a(u);var f=Ba(s,u);var c=l(u,f);if(Fa!=null)c.other=l(u,Fa);return c}function Ct(e,t){var r=0,t=Le(e.doc,t);if(!e.options.lineWrapping)r=Et(e.display)*t.ch;var i=$n(e.doc,t.line);var n=to(i)+Je(e.display);return{left:r,right:r,top:n,bottom:n+i.height}}function St(e,t,r,i){var n=ve(e,t);n.xRel=i;if(r)n.outside=true;return n}function Lt(e,t,r){var i=e.doc;r+=e.display.viewOffset;if(r<0)return St(i.first,0,true,-1);var n=eo(i,r),o=i.first+i.size-1;if(n>o)return St(i.first+i.size-1,$n(i,o).text.length,true,1);if(t<0)t=0;var a=$n(i,n);for(;;){var l=Mt(e,a,n,t,r);var s=an(a);var u=s&&s.find(0,true);if(s&&(l.ch>u.from.ch||l.ch==u.from.ch&&l.xRel>0))n=Qn(a=u.to.line);else return l}}function Mt(e,t,r,i,n){var o=n-to(t);var a=false,l=2*e.display.wrapper.clientWidth;var s=ut(e,t);function u(i){var n=kt(e,ve(r,i),"line",t,s);a=true;if(o>n.bottom)return n.left-l;else if(o<n.top)return n.left+l;else a=false;return n.left}var f=ro(t),c=t.text.length;var d=za(t),h=Oa(t);var p=u(d),v=a,m=u(h),g=a;if(i>m)return St(r,h,g,1);for(;;){if(f?h==d||h==Ra(t,d,1):h-d<=1){var y=i<p||i-p<=m-i?d:h;var b=i-(y==d?p:m);while(ia(t.text.charAt(y)))++y;var w=St(r,y,y==d?v:g,b<-1?-1:b>1?1:0);return w}var x=Math.ceil(c/2),k=d+x;if(f){k=d;for(var C=0;C<x;++C)k=Ra(t,k,1)}var S=u(k);if(S>i){h=k;m=S;if(g=a)m+=1e3;c=x}else{d=k;p=S;v=a;c-=x}}}var Tt;function At(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Tt==null){Tt=na("pre");for(var t=0;t<49;++t){Tt.appendChild(document.createTextNode("x"));Tt.appendChild(na("br"))}Tt.appendChild(document.createTextNode("x"))}la(e.measure,Tt);var r=Tt.offsetHeight/50;if(r>3)e.cachedTextHeight=r;aa(e.measure);return r||1}function Et(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=na("span","xxxxxxxxxx");var r=na("pre",[t]);la(e.measure,r);var i=t.getBoundingClientRect(),n=(i.right-i.left)/10;if(n>2)e.cachedCharWidth=n;return n||10}var Nt=null;var Wt=0;function zt(e){e.curOp={cm:e,viewChanged:false,startHeight:e.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Wt};if(Nt){Nt.ops.push(e.curOp)}else{e.curOp.ownsGroup=Nt={ops:[e.curOp],delayedCallbacks:[]}}}function Ot(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r]();for(var i=0;i<e.ops.length;i++){var n=e.ops[i];if(n.cursorActivityHandlers)while(n.cursorActivityCalled<n.cursorActivityHandlers.length)n.cursorActivityHandlers[n.cursorActivityCalled++](n.cm)}}while(r<t.length)}function It(e){var t=e.curOp,r=t.ownsGroup;if(!r)return;try{Ot(r)}finally{Nt=null;for(var i=0;i<r.ops.length;i++)r.ops[i].cm.curOp=null;Ht(r)}}function Ht(e){var t=e.ops;for(var r=0;r<t.length;r++)Dt(t[r]);for(var r=0;r<t.length;r++)Pt(t[r]);for(var r=0;r<t.length;r++)Ft(t[r]);for(var r=0;r<t.length;r++)Bt(t[r]);for(var r=0;r<t.length;r++)jt(t[r])}function Dt(e){var t=e.cm,r=t.display;X(t);if(e.updateMaxLine)I(t);e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping;e.update=e.mustUpdate&&new _(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Pt(e){e.updatedDisplay=e.mustUpdate&&$(e.cm,e.update)}function Ft(e){var t=e.cm,r=t.display;if(e.updatedDisplay)Q(t);e.barMeasure=D(t);if(r.maxLineChanged&&!t.options.lineWrapping){e.adjustWidthTo=lt(t,r.maxLine,r.maxLine.text.length).left+3;t.display.sizerWidth=e.adjustWidthTo;e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+tt(t)+t.display.barWidth);e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-rt(t))}if(e.updatedDisplay||e.selectionChanged)e.newSelectionNodes=Ue(t)}function Bt(e){var t=e.cm;if(e.adjustWidthTo!=null){t.display.sizer.style.minWidth=e.adjustWidthTo+"px";if(e.maxScrollLeft<t.doc.scrollLeft)Sr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),true);t.display.maxLineChanged=false}if(e.newSelectionNodes)Ve(t,e.newSelectionNodes);if(e.updatedDisplay)J(t,e.barMeasure);if(e.updatedDisplay||e.startHeight!=t.doc.height)j(t,e.barMeasure);if(e.selectionChanged)_e(t);if(t.state.focused&&e.updateInput)nr(t,e.typing)}function jt(e){var t=e.cm,r=t.display,i=t.doc;if(e.updatedDisplay)Y(t,e.update);if(r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos))r.wheelStartX=r.wheelStartY=null;if(e.scrollTop!=null&&(r.scroller.scrollTop!=e.scrollTop||e.forceScroll)){i.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop));r.scrollbars.setScrollTop(i.scrollTop);r.scroller.scrollTop=i.scrollTop}if(e.scrollLeft!=null&&(r.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)){i.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-rt(t),e.scrollLeft));r.scrollbars.setScrollLeft(i.scrollLeft);r.scroller.scrollLeft=i.scrollLeft;V(t)}if(e.scrollToPos){var n=ni(t,Le(i,e.scrollToPos.from),Le(i,e.scrollToPos.to),e.scrollToPos.margin);if(e.scrollToPos.isCursor&&t.state.focused)ii(t,n)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)if(!o[l].lines.length)To(o[l],"hide");if(a)for(var l=0;l<a.length;++l)if(a[l].lines.length)To(a[l],"unhide");if(r.wrapper.offsetHeight)i.scrollTop=t.display.scroller.scrollTop;if(e.changeObjs)To(t,"changes",t,e.changeObjs);if(e.update)e.update.finish()}function Rt(e,t){if(e.curOp)return t();zt(e);try{return t()}finally{It(e)}}function Ut(e,t){return function(){if(e.curOp)return t.apply(e,arguments);zt(e);try{return t.apply(e,arguments)}finally{It(e)}}}function Vt(e){return function(){if(this.curOp)return e.apply(this,arguments);zt(this);try{return e.apply(this,arguments)}finally{It(this)}}}function qt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);zt(t);try{return e.apply(this,arguments)}finally{It(t)}}}function Gt(e,t,r){this.line=t;this.rest=un(t);this.size=this.rest?Qn(Go(this.rest))-r+1:1;this.node=this.text=null;this.hidden=dn(e,t)}function Kt(e,t,r){var i=[],n;for(var o=t;o<r;o=n){var a=new Gt(e.doc,$n(e.doc,o),o);n=o+a.size;i.push(a)}return i}function _t(e,t,r,i){if(t==null)t=e.doc.first;if(r==null)r=e.doc.first+e.doc.size;if(!i)i=0;var n=e.display;if(i&&r<n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>t))n.updateLineNumbers=t;e.curOp.viewChanged=true;if(t>=n.viewTo){if(x&&fn(e.doc,t)<n.viewTo)$t(e)}else if(r<=n.viewFrom){if(x&&cn(e.doc,r+i)>n.viewFrom){$t(e)}else{n.viewFrom+=i;n.viewTo+=i}}else if(t<=n.viewFrom&&r>=n.viewTo){$t(e)}else if(t<=n.viewFrom){var o=Zt(e,r,r+i,1);if(o){n.view=n.view.slice(o.index);n.viewFrom=o.lineN;n.viewTo+=i}else{$t(e)}}else if(r>=n.viewTo){var o=Zt(e,t,t,-1);if(o){n.view=n.view.slice(0,o.index);n.viewTo=o.lineN}else{$t(e)}}else{var a=Zt(e,t,t,-1);var l=Zt(e,r,r+i,1);if(a&&l){n.view=n.view.slice(0,a.index).concat(Kt(e,a.lineN,l.lineN)).concat(n.view.slice(l.index));n.viewTo+=i}else{$t(e)}}var s=n.externalMeasured;if(s){if(r<s.lineN)s.lineN+=i;else if(t<s.lineN+s.size)n.externalMeasured=null}}function Xt(e,t,r){e.curOp.viewChanged=true;var i=e.display,n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)i.externalMeasured=null;if(t<i.viewFrom||t>=i.viewTo)return;var o=i.view[Yt(e,t)];if(o.node==null)return;var a=o.changes||(o.changes=[]);if(_o(a,r)==-1)a.push(r)}function $t(e){e.display.viewFrom=e.display.viewTo=e.doc.first;e.display.view=[];e.display.viewOffset=0}function Yt(e,t){if(t>=e.display.viewTo)return null;t-=e.display.viewFrom;if(t<0)return null;var r=e.display.view;for(var i=0;i<r.length;i++){t-=r[i].size;if(t<0)return i}}function Zt(e,t,r,i){var n=Yt(e,t),o,a=e.display.view;if(!x||r==e.doc.first+e.doc.size)return{index:n,lineN:r};for(var l=0,s=e.display.viewFrom;l<n;l++)s+=a[l].size;if(s!=t){if(i>0){if(n==a.length-1)return null;o=s+a[n].size-t;n++}else{o=s-t}t+=o;r+=o}while(fn(e.doc,r)!=r){if(n==(i<0?0:a.length-1))return null;r+=i*a[n-(i<0?1:0)].size;n+=i}return{index:n,lineN:r}}function Jt(e,t,r){var i=e.display,n=i.view;if(n.length==0||t>=i.viewTo||r<=i.viewFrom){i.view=Kt(e,t,r);i.viewFrom=t}else{if(i.viewFrom>t)i.view=Kt(e,t,i.viewFrom).concat(i.view);else if(i.viewFrom<t)i.view=i.view.slice(Yt(e,t));i.viewFrom=t;if(i.viewTo<r)i.view=i.view.concat(Kt(e,i.viewTo,r));else if(i.viewTo>r)i.view=i.view.slice(0,Yt(e,r))}i.viewTo=r}function Qt(e){var t=e.display.view,r=0;for(var i=0;i<t.length;i++){var n=t[i];if(!n.hidden&&(!n.node||n.changes))++r}return r}function er(e){if(e.display.pollingFast)return;e.display.poll.set(e.options.pollInterval,function(){ir(e);if(e.state.focused)er(e)})}function tr(e){var t=false;e.display.pollingFast=true;function r(){var i=ir(e);if(!i&&!t){t=true;e.display.poll.set(60,r)}else{e.display.pollingFast=false;er(e)}}e.display.poll.set(20,r)}var rr=null;function ir(e){var t=e.display.input,r=e.display.prevInput,o=e.doc;if(!e.state.focused||Sa(t)&&!r||lr(e)||e.options.disableInput||e.state.keySeq)return false;if(e.state.pasteIncoming&&e.state.fakedLastChar){t.value=t.value.substring(0,t.value.length-1);e.state.fakedLastChar=false}var a=t.value;if(a==r&&!e.somethingSelected())return false;if(i&&n>=9&&e.display.inputHasSelection===a||v&&/[\uf700-\uf7ff]/.test(a)){nr(e);return false}var l=!e.curOp;if(l)zt(e);e.display.shift=false;if(a.charCodeAt(0)==8203&&o.sel==e.display.selForContextMenu&&!r)r="​";var s=0,u=Math.min(r.length,a.length);while(s<u&&r.charCodeAt(s)==a.charCodeAt(s))++s;var f=a.slice(s),c=Ca(f);var d=null;if(e.state.pasteIncoming&&o.sel.ranges.length>1){if(rr&&rr.join("\n")==f)d=o.sel.ranges.length%rr.length==0&&Xo(rr,Ca);else if(c.length==o.sel.ranges.length)d=Xo(c,function(e){return[e]})}for(var h=o.sel.ranges.length-1;h>=0;h--){var p=o.sel.ranges[h];var m=p.from(),g=p.to();if(s<r.length)m=ve(m.line,m.ch-(r.length-s));else if(e.state.overwrite&&p.empty()&&!e.state.pasteIncoming)g=ve(g.line,Math.min($n(o,g.line).text.length,g.ch+Go(c).length));var y=e.curOp.updateInput;var b={from:m,to:g,text:d?d[h%d.length]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};Yr(e.doc,b);Eo(e,"inputRead",e,b);if(f&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&p.head.ch<100&&(!h||o.sel.ranges[h-1].head.line!=p.head.line)){var w=e.getModeAt(p.head);var x=qr(b);if(w.electricChars){for(var k=0;k<w.electricChars.length;k++)if(f.indexOf(w.electricChars.charAt(k))>-1){fi(e,x.line,"smart");break}}else if(w.electricInput){if(w.electricInput.test($n(o,x.line).text.slice(0,x.ch)))fi(e,x.line,"smart")}}}si(e);e.curOp.updateInput=y;e.curOp.typing=true;if(a.length>1e3||a.indexOf("\n")>-1)t.value=e.display.prevInput="";else e.display.prevInput=a;if(l)It(e);e.state.pasteIncoming=e.state.cutIncoming=false;return true}function nr(e,t){if(e.display.contextMenuPending)return;var r,o,a=e.doc;if(e.somethingSelected()){e.display.prevInput="";var l=a.sel.primary();r=La&&(l.to().line-l.from().line>100||(o=e.getSelection()).length>1e3);var s=r?"-":o||e.getSelection();e.display.input.value=s;if(e.state.focused)Ko(e.display.input);if(i&&n>=9)e.display.inputHasSelection=s}else if(!t){e.display.prevInput=e.display.input.value="";if(i&&n>=9)e.display.inputHasSelection=null}e.display.inaccurateSelection=r}function or(e){if(e.options.readOnly!="nocursor"&&(!p||ua()!=e.display.input)){try{e.display.input.focus()}catch(t){}}}function ar(e){if(!e.state.focused){or(e);jr(e)}}function lr(e){return e.options.readOnly||e.doc.cantEdit}function sr(e){var t=e.display;Lo(t.scroller,"mousedown",Ut(e,dr));if(i&&n<11)Lo(t.scroller,"dblclick",Ut(e,function(t){if(Wo(e,t))return;var r=cr(e,t);if(!r||br(e,t)||fr(e.display,t))return;bo(t);var i=e.findWordAt(r);Ne(e.doc,i.anchor,i.head)}));else Lo(t.scroller,"dblclick",function(t){Wo(e,t)||bo(t)});Lo(t.lineSpace,"selectstart",function(e){if(!fr(t,e))bo(e)});if(!b)Lo(t.scroller,"contextmenu",function(t){Ur(e,t)});Lo(t.scroller,"scroll",function(){if(t.scroller.clientHeight){Cr(e,t.scroller.scrollTop);Sr(e,t.scroller.scrollLeft,true);To(e,"scroll",e)}});Lo(t.scroller,"mousewheel",function(t){Ar(e,t)});Lo(t.scroller,"DOMMouseScroll",function(t){Ar(e,t)});Lo(t.wrapper,"scroll",function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0});Lo(t.input,"keyup",function(t){Fr.call(e,t)});Lo(t.input,"input",function(){if(i&&n>=9&&e.display.inputHasSelection)e.display.inputHasSelection=null;ir(e)});Lo(t.input,"keydown",Ut(e,Dr));Lo(t.input,"keypress",Ut(e,Br));Lo(t.input,"focus",Zo(jr,e));Lo(t.input,"blur",Zo(Rr,e));function r(t){if(!Wo(e,t))ko(t)}if(e.options.dragDrop){Lo(t.scroller,"dragstart",function(t){kr(e,t)});Lo(t.scroller,"dragenter",r);Lo(t.scroller,"dragover",r);Lo(t.scroller,"drop",Ut(e,xr))}Lo(t.scroller,"paste",function(r){if(fr(t,r))return;e.state.pasteIncoming=true;or(e);tr(e)});Lo(t.input,"paste",function(){if(o&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var r=t.input.selectionStart,i=t.input.selectionEnd;t.input.value+="$";t.input.selectionEnd=i;t.input.selectionStart=r;e.state.fakedLastChar=true}e.state.pasteIncoming=true;tr(e)});function a(r){if(e.somethingSelected()){rr=e.getSelections();if(t.inaccurateSelection){t.prevInput="";t.inaccurateSelection=false;t.input.value=rr.join("\n");Ko(t.input)}}else{var i=[],n=[];for(var o=0;o<e.doc.sel.ranges.length;o++){var a=e.doc.sel.ranges[o].head.line;var l={anchor:ve(a,0),head:ve(a+1,0)};n.push(l);i.push(e.getRange(l.anchor,l.head))}if(r.type=="cut"){e.setSelections(n,null,Po)}else{t.prevInput="";t.input.value=i.join("\n");Ko(t.input)}rr=i}if(r.type=="cut")e.state.cutIncoming=true}Lo(t.input,"cut",a);Lo(t.input,"copy",a);if(f)Lo(t.sizer,"mouseup",function(){if(ua()==t.input)t.input.blur();or(e)})}function ur(e){var t=e.display;if(t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth)return;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null;t.scrollbarsClipped=false;e.setSize()}function fr(e,t){for(var r=Co(t);r!=e.wrapper;r=r.parentNode){if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return true}}function cr(e,t,r,i){var n=e.display;if(!r&&Co(t).getAttribute("not-content")=="true")return null;var o,a,l=n.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left;a=t.clientY-l.top}catch(t){return null}var s=Lt(e,o,a),u;if(i&&s.xRel==1&&(u=$n(e.doc,s.line).text).length==s.ch){var f=Ro(u,u.length,e.options.tabSize)-u.length;s=ve(s.line,Math.max(0,Math.round((o-et(e.display).left)/Et(e.display))-f))}return s}function dr(e){if(Wo(this,e))return;var t=this,r=t.display;r.shift=e.shiftKey;if(fr(r,e)){if(!o){r.scroller.draggable=false;setTimeout(function(){r.scroller.draggable=true},100)}return}if(br(t,e))return;var i=cr(t,e);window.focus();switch(So(e)){case 1:if(i)vr(t,e,i);else if(Co(e)==r.scroller)bo(e);break;case 2:if(o)t.state.lastMiddleDown=+new Date;if(i)Ne(t.doc,i);setTimeout(Zo(or,t),20);bo(e);break;case 3:if(b)Ur(t,e);break}}var hr,pr;function vr(e,t,r){setTimeout(Zo(ar,e),0);var i=+new Date,n;if(pr&&pr.time>i-400&&me(pr.pos,r)==0){n="triple"}else if(hr&&hr.time>i-400&&me(hr.pos,r)==0){n="double";pr={time:i,pos:r}}else{n="single";hr={time:i,pos:r}}var o=e.doc.sel,a=v?t.metaKey:t.ctrlKey,l;if(e.options.dragDrop&&ya&&!lr(e)&&n=="single"&&(l=o.contains(r))>-1&&!o.ranges[l].empty())mr(e,t,r,a);else gr(e,t,r,n,a)}function mr(e,t,r,a){var l=e.display;var s=Ut(e,function(u){if(o)l.scroller.draggable=false;e.state.draggingText=false;Mo(document,"mouseup",s);Mo(l.scroller,"drop",s);if(Math.abs(t.clientX-u.clientX)+Math.abs(t.clientY-u.clientY)<10){bo(u);if(!a)Ne(e.doc,r);or(e);if(i&&n==9)setTimeout(function(){document.body.focus();or(e)},20)}});if(o)l.scroller.draggable=true;e.state.draggingText=s;if(l.scroller.dragDrop)l.scroller.dragDrop();Lo(document,"mouseup",s);Lo(l.scroller,"drop",s)}function gr(e,t,r,i,n){var o=e.display,a=e.doc;bo(t);var l,s,u=a.sel,f=u.ranges;if(n&&!t.shiftKey){s=a.sel.contains(r);if(s>-1)l=f[s];else l=new xe(r,r)}else{l=a.sel.primary()}if(t.altKey){i="rect";if(!n)l=new xe(r,r);r=cr(e,t,true,true);s=-1}else if(i=="double"){var c=e.findWordAt(r);if(e.display.shift||a.extend)l=Ee(a,l,c.anchor,c.head);else l=c}else if(i=="triple"){var d=new xe(ve(r.line,0),Le(a,ve(r.line+1,0)));if(e.display.shift||a.extend)l=Ee(a,l,d.anchor,d.head);else l=d}else{l=Ee(a,l,r)}if(!n){s=0;De(a,new we([l],0),Fo);u=a.sel}else if(s==-1){s=f.length;De(a,ke(f.concat([l]),s),{scroll:false,origin:"*mouse"})}else if(f.length>1&&f[s].empty()&&i=="single"){De(a,ke(f.slice(0,s).concat(f.slice(s+1)),0));u=a.sel}else{ze(a,s,l,Fo)}var h=r;function p(t){if(me(h,t)==0)return;h=t;if(i=="rect"){var n=[],o=e.options.tabSize;var f=Ro($n(a,r.line).text,r.ch,o);var c=Ro($n(a,t.line).text,t.ch,o);var d=Math.min(f,c),p=Math.max(f,c);for(var v=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=m;v++){var g=$n(a,v).text,y=Uo(g,d,o);if(d==p)n.push(new xe(ve(v,y),ve(v,y)));else if(g.length>y)n.push(new xe(ve(v,y),ve(v,Uo(g,p,o))))}if(!n.length)n.push(new xe(r,r));De(a,ke(u.ranges.slice(0,s).concat(n),s),{origin:"*mouse",scroll:false});e.scrollIntoView(t)}else{var b=l;var w=b.anchor,x=t;if(i!="single"){if(i=="double")var k=e.findWordAt(t);else var k=new xe(ve(t.line,0),Le(a,ve(t.line+1,0)));if(me(k.anchor,w)>0){x=k.head;w=be(b.from(),k.anchor)}else{x=k.anchor;w=ye(b.to(),k.head)}}var n=u.ranges.slice(0);n[s]=new xe(Le(a,w),x);De(a,ke(n,s),Fo)}}var v=o.wrapper.getBoundingClientRect();var m=0;function g(t){var r=++m;var n=cr(e,t,true,i=="rect");if(!n)return;if(me(n,h)!=0){ar(e);p(n);var l=U(o,a);if(n.line>=l.to||n.line<l.from)setTimeout(Ut(e,function(){if(m==r)g(t)}),150)}else{var s=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;if(s)setTimeout(Ut(e,function(){if(m!=r)return;o.scroller.scrollTop+=s;g(t)}),50)}}function y(t){m=Infinity;bo(t);or(e);Mo(document,"mousemove",b);Mo(document,"mouseup",w);a.history.lastSelOrigin=null}var b=Ut(e,function(e){if(!So(e))y(e);else g(e)});var w=Ut(e,y);Lo(document,"mousemove",b);Lo(document,"mouseup",w)}function yr(e,t,r,i,n){try{var o=t.clientX,a=t.clientY}catch(t){return false}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return false;if(i)bo(t);var l=e.display;var s=l.lineDiv.getBoundingClientRect();if(a>s.bottom||!Oo(e,r))return xo(t);a-=s.top-l.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var f=l.gutters.childNodes[u];if(f&&f.getBoundingClientRect().right>=o){var c=eo(e.doc,a);var d=e.options.gutters[u];n(e,r,e,c,d,t);return xo(t)}}}function br(e,t){return yr(e,t,"gutterClick",true,Eo)}var wr=0;function xr(e){var t=this;if(Wo(t,e)||fr(t.display,e))return;bo(e);if(i)wr=+new Date;var r=cr(t,e,true),n=e.dataTransfer.files;if(!r||lr(t))return;if(n&&n.length&&window.FileReader&&window.File){var o=n.length,a=Array(o),l=0;var s=function(e,i){var n=new FileReader;n.onload=Ut(t,function(){a[i]=n.result;if(++l==o){r=Le(t.doc,r);var e={from:r,to:r,text:Ca(a.join("\n")),origin:"paste"};Yr(t.doc,e);He(t.doc,Ce(r,qr(e)))}});n.readAsText(e)};for(var u=0;u<o;++u)s(n[u],u)}else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e);setTimeout(Zo(or,t),20);return}try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(v?e.metaKey:e.ctrlKey))var f=t.listSelections();Pe(t.doc,Ce(r,r));if(f)for(var u=0;u<f.length;++u)ri(t.doc,"",f[u].anchor,f[u].head,"drag");t.replaceSelection(a,"around","paste");or(t)}}catch(e){}}}function kr(e,t){if(i&&(!e.state.draggingText||+new Date-wr<100)){ko(t);return}if(Wo(e,t)||fr(e.display,t))return;t.dataTransfer.setData("Text",e.getSelection());if(t.dataTransfer.setDragImage&&!u){var r=na("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(s){r.width=r.height=1;e.display.wrapper.appendChild(r);r._top=r.offsetTop}t.dataTransfer.setDragImage(r,0,0);if(s)r.parentNode.removeChild(r)}}function Cr(t,r){if(Math.abs(t.doc.scrollTop-r)<2)return;t.doc.scrollTop=r;if(!e)Z(t,{top:r});if(t.display.scroller.scrollTop!=r)t.display.scroller.scrollTop=r;t.display.scrollbars.setScrollTop(r);if(e)Z(t);Xe(t,100)}function Sr(e,t,r){if(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)return;t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth);e.doc.scrollLeft=t;V(e);if(e.display.scroller.scrollLeft!=t)e.display.scroller.scrollLeft=t;e.display.scrollbars.setScrollLeft(t)}var Lr=0,Mr=null;if(i)Mr=-.53;else if(e)Mr=15;else if(l)Mr=-.7;else if(u)Mr=-1/3;var Tr=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;if(t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)t=e.detail;if(r==null&&e.detail&&e.axis==e.VERTICAL_AXIS)r=e.detail;else if(r==null)r=e.wheelDelta;return{x:t,y:r}};k.wheelEventPixels=function(e){var t=Tr(e);t.x*=Mr;t.y*=Mr;return t};function Ar(t,r){var i=Tr(r),n=i.x,a=i.y;var l=t.display,u=l.scroller;if(!(n&&u.scrollWidth>u.clientWidth||a&&u.scrollHeight>u.clientHeight))return;if(a&&v&&o){e:for(var f=r.target,c=l.view;f!=u;f=f.parentNode){for(var d=0;d<c.length;d++){if(c[d].node==f){t.display.currentWheelTarget=f;break e}}}}if(n&&!e&&!s&&Mr!=null){if(a)Cr(t,Math.max(0,Math.min(u.scrollTop+a*Mr,u.scrollHeight-u.clientHeight)));Sr(t,Math.max(0,Math.min(u.scrollLeft+n*Mr,u.scrollWidth-u.clientWidth)));bo(r);l.wheelStartX=null;return}if(a&&Mr!=null){var h=a*Mr;var p=t.doc.scrollTop,m=p+l.wrapper.clientHeight;if(h<0)p=Math.max(0,p+h-50);else m=Math.min(t.doc.height,m+h+50);Z(t,{top:p,bottom:m})}if(Lr<20){if(l.wheelStartX==null){l.wheelStartX=u.scrollLeft;l.wheelStartY=u.scrollTop;l.wheelDX=n;l.wheelDY=a;setTimeout(function(){if(l.wheelStartX==null)return;var e=u.scrollLeft-l.wheelStartX;var t=u.scrollTop-l.wheelStartY;var r=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null;if(!r)return;Mr=(Mr*Lr+r)/(Lr+1);++Lr},200)}else{l.wheelDX+=n;l.wheelDY+=a}}}function Er(e,t,r){if(typeof t=="string"){t=Mi[t];if(!t)return false}if(e.display.pollingFast&&ir(e))e.display.pollingFast=false;var i=e.display.shift,n=false;try{if(lr(e))e.state.suppressEdits=true;if(r)e.display.shift=false;n=t(e)!=Do}finally{e.display.shift=i;e.state.suppressEdits=false}return n}function Nr(e,t,r){for(var i=0;i<e.state.keyMaps.length;i++){var n=Ei(t,e.state.keyMaps[i],r,e);if(n)return n}return e.options.extraKeys&&Ei(t,e.options.extraKeys,r,e)||Ei(t,e.options.keyMap,r,e)}var Wr=new jo;function zr(e,t,r,i){var n=e.state.keySeq;if(n){if(Ni(t))return"handled";Wr.set(50,function(){if(e.state.keySeq==n){e.state.keySeq=null;nr(e)}});t=n+" "+t}var o=Nr(e,t,i);if(o=="multi")e.state.keySeq=t;if(o=="handled")Eo(e,"keyHandled",e,t,r);if(o=="handled"||o=="multi"){bo(r);_e(e)}if(n&&!o&&/\'$/.test(t)){bo(r);return true}return!!o}function Or(e,t){var r=Wi(t,true);if(!r)return false;if(t.shiftKey&&!e.state.keySeq){return zr(e,"Shift-"+r,t,function(t){return Er(e,t,true)})||zr(e,r,t,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return Er(e,t)})}else{return zr(e,r,t,function(t){return Er(e,t)})}}function Ir(e,t,r){return zr(e,"'"+r+"'",t,function(t){return Er(e,t,true)})}var Hr=null;function Dr(e){var t=this;ar(t);if(Wo(t,e))return;if(i&&n<11&&e.keyCode==27)e.returnValue=false;var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var o=Or(t,e);if(s){Hr=o?r:null;if(!o&&r==88&&!La&&(v?e.metaKey:e.ctrlKey))t.replaceSelection("",null,"cut")}if(r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className))Pr(t)}function Pr(e){var t=e.display.lineDiv;da(t,"CodeMirror-crosshair");function r(e){if(e.keyCode==18||!e.altKey){ca(t,"CodeMirror-crosshair");Mo(document,"keyup",r);Mo(document,"mouseover",r)}}Lo(document,"keyup",r);Lo(document,"mouseover",r)}function Fr(e){if(e.keyCode==16)this.doc.sel.shift=false;Wo(this,e)}function Br(e){var t=this;if(Wo(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)return;var r=e.keyCode,o=e.charCode;if(s&&r==Hr){Hr=null;bo(e);return}if((s&&(!e.which||e.which<10)||f)&&Or(t,e))return;var a=String.fromCharCode(o==null?r:o);if(Ir(t,e,a))return;if(i&&n>=9)t.display.inputHasSelection=null;tr(t)}function jr(e){if(e.options.readOnly=="nocursor")return;if(!e.state.focused){To(e,"focus",e);e.state.focused=true;da(e.display.wrapper,"CodeMirror-focused");if(!e.curOp&&e.display.selForContextMenu!=e.doc.sel){nr(e);if(o)setTimeout(Zo(nr,e,true),0)}}er(e);_e(e)}function Rr(e){if(e.state.focused){To(e,"blur",e);e.state.focused=false;ca(e.display.wrapper,"CodeMirror-focused")}clearInterval(e.display.blinker);setTimeout(function(){if(!e.state.focused)e.display.shift=false},150)}function Ur(e,t){if(Wo(e,t,"contextmenu"))return;var r=e.display;if(fr(r,t)||Vr(e,t))return;var a=cr(e,t),l=r.scroller.scrollTop;if(!a||s)return;var u=e.options.resetSelectionOnContextMenu;if(u&&e.doc.sel.contains(a)==-1)Ut(e,De)(e.doc,Ce(a),Po);var f=r.input.style.cssText;r.inputDiv.style.position="absolute";r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(o)var c=window.scrollY;or(e);if(o)window.scrollTo(null,c);nr(e);if(!e.somethingSelected())r.input.value=r.prevInput=" ";r.contextMenuPending=true;r.selForContextMenu=e.doc.sel;clearTimeout(r.detectingSelectAll);function d(){if(r.input.selectionStart!=null){var t=e.somethingSelected();var i=r.input.value="​"+(t?r.input.value:"");r.prevInput=t?"":"​";r.input.selectionStart=1;r.input.selectionEnd=i.length;r.selForContextMenu=e.doc.sel}}function h(){r.contextMenuPending=false;r.inputDiv.style.position="relative";r.input.style.cssText=f;if(i&&n<9)r.scrollbars.setScrollTop(r.scroller.scrollTop=l);er(e);if(r.input.selectionStart!=null){if(!i||i&&n<9)d();var t=0,o=function(){if(r.selForContextMenu==e.doc.sel&&r.input.selectionStart==0)Ut(e,Mi.selectAll)(e);else if(t++<10)r.detectingSelectAll=setTimeout(o,500);else nr(e)};r.detectingSelectAll=setTimeout(o,200)}}if(i&&n>=9)d();if(b){ko(t);var p=function(){Mo(window,"mouseup",p);setTimeout(h,20)};Lo(window,"mouseup",p)}else{setTimeout(h,50)}}function Vr(e,t){if(!Oo(e,"gutterContextMenu"))return false;return yr(e,t,"gutterContextMenu",false,To)}var qr=k.changeEnd=function(e){if(!e.text)return e.to;return ve(e.from.line+e.text.length-1,Go(e.text).length+(e.text.length==1?e.from.ch:0))};function Gr(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return qr(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;if(e.line==t.to.line)i+=qr(t).ch-t.to.ch;return ve(r,i)}function Kr(e,t){var r=[];for(var i=0;i<e.sel.ranges.length;i++){var n=e.sel.ranges[i];r.push(new xe(Gr(n.anchor,t),Gr(n.head,t)))}return ke(r,e.sel.primIndex)}function _r(e,t,r){if(e.line==t.line)return ve(r.line,e.ch-t.ch+r.ch);else return ve(r.line+(e.line-t.line),e.ch)}function Xr(e,t,r){var i=[];var n=ve(e.first,0),o=n;for(var a=0;a<t.length;a++){var l=t[a];var s=_r(l.from,n,o);var u=_r(qr(l),n,o);n=l.to;o=u;if(r=="around"){var f=e.sel.ranges[a],c=me(f.head,f.anchor)<0;i[a]=new xe(c?u:s,c?s:u)}else{i[a]=new xe(s,s)}}return new we(i,e.sel.primIndex)}function $r(e,t,r){var i={canceled:false,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=true}};if(r)i.update=function(t,r,i,n){if(t)this.from=Le(e,t);if(r)this.to=Le(e,r);if(i)this.text=i;if(n!==undefined)this.origin=n};To(e,"beforeChange",e,i);if(e.cm)To(e.cm,"beforeChange",e.cm,i);if(i.canceled)return null;return{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Yr(e,t,r){if(e.cm){if(!e.cm.curOp)return Ut(e.cm,Yr)(e,t,r);if(e.cm.state.suppressEdits)return}if(Oo(e,"beforeChange")||e.cm&&Oo(e.cm,"beforeChange")){t=$r(e,t,true);if(!t)return}var i=w&&!r&&Zi(e,t.from,t.to);if(i){for(var n=i.length-1;n>=0;--n)Zr(e,{from:i[n].from,to:i[n].to,text:n?[""]:t.text})}else{Zr(e,t)}}function Zr(e,t){if(t.text.length==1&&t.text[0]==""&&me(t.from,t.to)==0)return;var r=Kr(e,t);lo(e,t,r,e.cm?e.cm.curOp.id:NaN);ei(e,t,r,Xi(e,t));var i=[];_n(e,function(e,r){if(!r&&_o(i,e.history)==-1){yo(e.history,t);i.push(e.history)}ei(e,t,null,Xi(e,t))})}function Jr(e,t,r){if(e.cm&&e.cm.state.suppressEdits)return;var i=e.history,n,o=e.sel;var a=t=="undo"?i.done:i.undone,l=t=="undo"?i.undone:i.done;for(var s=0;s<a.length;s++){n=a[s];if(r?n.ranges&&!n.equals(e.sel):!n.ranges)break}if(s==a.length)return;i.lastOrigin=i.lastSelOrigin=null;for(;;){n=a.pop();if(n.ranges){fo(n,l);if(r&&!n.equals(e.sel)){De(e,n,{clearRedo:false});return}o=n}else break}var u=[];fo(o,l);l.push({changes:u,generation:i.generation});i.generation=n.generation||++i.maxGeneration;var f=Oo(e,"beforeChange")||e.cm&&Oo(e.cm,"beforeChange");for(var s=n.changes.length-1;s>=0;--s){var c=n.changes[s];c.origin=t;if(f&&!$r(e,c,false)){a.length=0;return}u.push(no(e,c));var d=s?Kr(e,c):Go(a);ei(e,c,d,Yi(e,c));if(!s&&e.cm)e.cm.scrollIntoView({from:c.from,to:qr(c)});var h=[];_n(e,function(e,t){if(!t&&_o(h,e.history)==-1){yo(e.history,c);h.push(e.history);
}ei(e,c,null,Yi(e,c))})}}function Qr(e,t){if(t==0)return;e.first+=t;e.sel=new we(Xo(e.sel.ranges,function(e){return new xe(ve(e.anchor.line+t,e.anchor.ch),ve(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){_t(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,i=r.viewFrom;i<r.viewTo;i++)Xt(e.cm,i,"gutter")}}function ei(e,t,r,i){if(e.cm&&!e.cm.curOp)return Ut(e.cm,ei)(e,t,r,i);if(t.to.line<e.first){Qr(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){var n=t.text.length-1-(e.first-t.from.line);Qr(e,n);t={from:ve(e.first,0),to:ve(t.to.line+n,t.to.ch),text:[Go(t.text)],origin:t.origin}}var o=e.lastLine();if(t.to.line>o){t={from:t.from,to:ve(o,$n(e,o).text.length),text:[t.text[0]],origin:t.origin}}t.removed=Yn(e,t.from,t.to);if(!r)r=Kr(e,t);if(e.cm)ti(e.cm,t,i);else jn(e,t,i);Pe(e,r,Po)}function ti(e,t,r){var i=e.doc,n=e.display,o=t.from,a=t.to;var l=false,s=o.line;if(!e.options.lineWrapping){s=Qn(sn($n(i,o.line)));i.iter(s,a.line+1,function(e){if(e==n.maxLine){l=true;return true}})}if(i.sel.contains(t.from,t.to)>-1)zo(e);jn(i,t,r,T(e));if(!e.options.lineWrapping){i.iter(s,o.line+t.text.length,function(e){var t=O(e);if(t>n.maxLineLength){n.maxLine=e;n.maxLineLength=t;n.maxLineChanged=true;l=false}});if(l)e.curOp.updateMaxLine=true}i.frontier=Math.min(i.frontier,o.line);Xe(e,400);var u=t.text.length-(a.line-o.line)-1;if(t.full)_t(e);else if(o.line==a.line&&t.text.length==1&&!Bn(e.doc,t))Xt(e,o.line,"text");else _t(e,o.line,a.line+1,u);var f=Oo(e,"changes"),c=Oo(e,"change");if(c||f){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};if(c)Eo(e,"change",e,d);if(f)(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function ri(e,t,r,i,n){if(!i)i=r;if(me(i,r)<0){var o=i;i=r;r=o}if(typeof t=="string")t=Ca(t);Yr(e,{from:r,to:i,text:t,origin:n})}function ii(e,t){if(Wo(e,"scrollCursorIntoView"))return;var r=e.display,i=r.sizer.getBoundingClientRect(),n=null;if(t.top+i.top<0)n=true;else if(t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight))n=false;if(n!=null&&!d){var o=na("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-Je(e.display))+"px; height: "+(t.bottom-t.top+tt(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o);o.scrollIntoView(n);e.display.lineSpace.removeChild(o)}}function ni(e,t,r,i){if(i==null)i=0;for(var n=0;n<5;n++){var o=false,a=kt(e,t);var l=!r||r==t?a:kt(e,r);var s=ai(e,Math.min(a.left,l.left),Math.min(a.top,l.top)-i,Math.max(a.left,l.left),Math.max(a.bottom,l.bottom)+i);var u=e.doc.scrollTop,f=e.doc.scrollLeft;if(s.scrollTop!=null){Cr(e,s.scrollTop);if(Math.abs(e.doc.scrollTop-u)>1)o=true}if(s.scrollLeft!=null){Sr(e,s.scrollLeft);if(Math.abs(e.doc.scrollLeft-f)>1)o=true}if(!o)break}return a}function oi(e,t,r,i,n){var o=ai(e,t,r,i,n);if(o.scrollTop!=null)Cr(e,o.scrollTop);if(o.scrollLeft!=null)Sr(e,o.scrollLeft)}function ai(e,t,r,i,n){var o=e.display,a=At(e.display);if(r<0)r=0;var l=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:o.scroller.scrollTop;var s=it(e),u={};if(n-r>s)n=r+s;var f=e.doc.height+Qe(o);var c=r<a,d=n>f-a;if(r<l){u.scrollTop=c?0:r}else if(n>l+s){var h=Math.min(r,(d?f:n)-s);if(h!=l)u.scrollTop=h}var p=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:o.scroller.scrollLeft;var v=rt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0);var m=i-t>v;if(m)i=t+v;if(t<10)u.scrollLeft=0;else if(t<p)u.scrollLeft=Math.max(0,t-(m?0:10));else if(i>v+p-3)u.scrollLeft=i+(m?0:10)-v;return u}function li(e,t,r){if(t!=null||r!=null)ui(e);if(t!=null)e.curOp.scrollLeft=(e.curOp.scrollLeft==null?e.doc.scrollLeft:e.curOp.scrollLeft)+t;if(r!=null)e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+r}function si(e){ui(e);var t=e.getCursor(),r=t,i=t;if(!e.options.lineWrapping){r=t.ch?ve(t.line,t.ch-1):t;i=ve(t.line,t.ch+1)}e.curOp.scrollToPos={from:r,to:i,margin:e.options.cursorScrollMargin,isCursor:true}}function ui(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=Ct(e,t.from),i=Ct(e,t.to);var n=ai(e,Math.min(r.left,i.left),Math.min(r.top,i.top)-t.margin,Math.max(r.right,i.right),Math.max(r.bottom,i.bottom)+t.margin);e.scrollTo(n.scrollLeft,n.scrollTop)}}function fi(e,t,r,i){var n=e.doc,o;if(r==null)r="add";if(r=="smart"){if(!n.mode.indent)r="prev";else o=Ze(e,t)}var a=e.options.tabSize;var l=$n(n,t),s=Ro(l.text,null,a);if(l.stateAfter)l.stateAfter=null;var u=l.text.match(/^\s*/)[0],f;if(!i&&!/\S/.test(l.text)){f=0;r="not"}else if(r=="smart"){f=n.mode.indent(o,l.text.slice(u.length),l.text);if(f==Do||f>150){if(!i)return;r="prev"}}if(r=="prev"){if(t>n.first)f=Ro($n(n,t-1).text,null,a);else f=0}else if(r=="add"){f=s+e.options.indentUnit}else if(r=="subtract"){f=s-e.options.indentUnit}else if(typeof r=="number"){f=s+r}f=Math.max(0,f);var c="",d=0;if(e.options.indentWithTabs)for(var h=Math.floor(f/a);h;--h){d+=a;c+="	"}if(d<f)c+=qo(f-d);if(c!=u){ri(n,c,ve(t,0),ve(t,u.length),"+input")}else{for(var h=0;h<n.sel.ranges.length;h++){var p=n.sel.ranges[h];if(p.head.line==t&&p.head.ch<u.length){var d=ve(t,u.length);ze(n,h,new xe(d,d));break}}}l.stateAfter=null}function ci(e,t,r,i){var n=t,o=t;if(typeof t=="number")o=$n(e,Se(e,t));else n=Qn(t);if(n==null)return null;if(i(o,n)&&e.cm)Xt(e.cm,n,r);return o}function di(e,t){var r=e.doc.sel.ranges,i=[];for(var n=0;n<r.length;n++){var o=t(r[n]);while(i.length&&me(o.from,Go(i).to)<=0){var a=i.pop();if(me(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}Rt(e,function(){for(var t=i.length-1;t>=0;t--)ri(e.doc,"",i[t].from,i[t].to,"+delete");si(e)})}function hi(e,t,r,i,n){var o=t.line,a=t.ch,l=r;var s=$n(e,o);var u=true;function f(){var t=o+r;if(t<e.first||t>=e.first+e.size)return u=false;o=t;return s=$n(e,t)}function c(e){var t=(n?Ra:Ua)(s,a,r,true);if(t==null){if(!e&&f()){if(n)a=(r<0?Oa:za)(s);else a=r<0?s.text.length:0}else return u=false}else a=t;return true}if(i=="char")c();else if(i=="column")c(true);else if(i=="word"||i=="group"){var d=null,h=i=="group";var p=e.cm&&e.cm.getHelper(t,"wordChars");for(var v=true;;v=false){if(r<0&&!c(!v))break;var m=s.text.charAt(a)||"\n";var g=ea(m,p)?"w":h&&m=="\n"?"n":!h||/\s/.test(m)?null:"p";if(h&&!v&&!g)g="s";if(d&&d!=g){if(r<0){r=1;c()}break}if(g)d=g;if(r>0&&!c(!v))break}}var y=Re(e,ve(o,a),l,true);if(!u)y.hitSide=true;return y}function pi(e,t,r,i){var n=e.doc,o=t.left,a;if(i=="page"){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);a=t.top+r*(l-(r<0?1.5:.5)*At(e.display))}else if(i=="line"){a=r>0?t.bottom+3:t.top-3}for(;;){var s=Lt(e,o,a);if(!s.outside)break;if(r<0?a<=0:a>=n.height){s.hitSide=true;break}a+=r*5}return s}k.prototype={constructor:k,focus:function(){window.focus();or(this);tr(this)},setOption:function(e,t){var r=this.options,i=r[e];if(r[e]==t&&e!="mode")return;r[e]=t;if(mi.hasOwnProperty(e))Ut(this,mi[e])(this,t,i)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](zi(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var r=0;r<t.length;++r)if(t[r]==e||t[r].name==e){t.splice(r,1);return true}},addOverlay:Vt(function(e,t){var r=e.token?e:k.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:t&&t.opaque});this.state.modeGen++;_t(this)}),removeOverlay:Vt(function(e){var t=this.state.overlays;for(var r=0;r<t.length;++r){var i=t[r].modeSpec;if(i==e||typeof e=="string"&&i.name==e){t.splice(r,1);this.state.modeGen++;_t(this);return}}}),indentLine:Vt(function(e,t,r){if(typeof t!="string"&&typeof t!="number"){if(t==null)t=this.options.smartIndent?"smart":"prev";else t=t?"add":"subtract"}if(Te(this.doc,e))fi(this,e,t,r)}),indentSelection:Vt(function(e){var t=this.doc.sel.ranges,r=-1;for(var i=0;i<t.length;i++){var n=t[i];if(!n.empty()){var o=n.from(),a=n.to();var l=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<r;++s)fi(this,s,e);var u=this.doc.sel.ranges;if(o.ch==0&&t.length==u.length&&u[i].from().ch>0)ze(this.doc,i,new xe(o,u[i].to()),Po)}else if(n.head.line>r){fi(this,n.head.line,e,true);r=n.head.line;if(i==this.doc.sel.primIndex)si(this)}}}),getTokenAt:function(e,t){return Sn(this,e,t)},getLineTokens:function(e,t){return Sn(this,ve(e),t,true)},getTokenTypeAt:function(e){e=Le(this.doc,e);var t=Tn(this,$n(this.doc,e.line));var r=0,i=(t.length-1)/2,n=e.ch;var o;if(n==0)o=t[2];else for(;;){var a=r+i>>1;if((a?t[a*2-1]:0)>=n)i=a;else if(t[a*2+1]<n)r=a+1;else{o=t[a*2+2];break}}var l=o?o.indexOf("cm-overlay "):-1;return l<0?o:l==0?null:o.slice(0,l-1)},getModeAt:function(e){var t=this.doc.mode;if(!t.innerMode)return t;return k.innerMode(t,this.getTokenAt(e).state).mode},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!Ci.hasOwnProperty(t))return Ci;var i=Ci[t],n=this.getModeAt(e);if(typeof n[t]=="string"){if(i[n[t]])r.push(i[n[t]])}else if(n[t]){for(var o=0;o<n[t].length;o++){var a=i[n[t][o]];if(a)r.push(a)}}else if(n.helperType&&i[n.helperType]){r.push(i[n.helperType])}else if(i[n.name]){r.push(i[n.name])}for(var o=0;o<i._global.length;o++){var l=i._global[o];if(l.pred(n,this)&&_o(r,l.val)==-1)r.push(l.val)}return r},getStateAfter:function(e,t){var r=this.doc;e=Se(r,e==null?r.first+r.size-1:e);return Ze(this,e+1,t)},cursorCoords:function(e,t){var r,i=this.doc.sel.primary();if(e==null)r=i.head;else if(typeof e=="object")r=Le(this.doc,e);else r=e?i.from():i.to();return kt(this,r,t||"page")},charCoords:function(e,t){return xt(this,Le(this.doc,e),t||"page")},coordsChar:function(e,t){e=wt(this,e,t||"page");return Lt(this,e.left,e.top)},lineAtHeight:function(e,t){e=wt(this,{top:e,left:0},t||"page").top;return eo(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r=false,i=this.doc.first+this.doc.size-1;if(e<this.doc.first)e=this.doc.first;else if(e>i){e=i;r=true}var n=$n(this.doc,e);return bt(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-to(n):0)},defaultTextHeight:function(){return At(this.display)},defaultCharWidth:function(){return Et(this.display)},setGutterMarker:Vt(function(e,t,r){return ci(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});i[t]=r;if(!r&&ta(i))e.gutterMarkers=null;return true})}),clearGutter:Vt(function(e){var t=this,r=t.doc,i=r.first;r.iter(function(r){if(r.gutterMarkers&&r.gutterMarkers[e]){r.gutterMarkers[e]=null;Xt(t,i,"gutter");if(ta(r.gutterMarkers))r.gutterMarkers=null}++i})}),addLineWidget:Vt(function(e,t,r){return gn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if(typeof e=="number"){if(!Te(this.doc,e))return null;var t=e;e=$n(this.doc,e);if(!e)return null}else{var t=Qn(e);if(t==null)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,i,n){var o=this.display;e=kt(this,Le(this.doc,e));var a=e.bottom,l=e.left;t.style.position="absolute";t.setAttribute("cm-ignore-events","true");o.sizer.appendChild(t);if(i=="over"){a=e.top}else if(i=="above"||i=="near"){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);if((i=="above"||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight)a=e.top-t.offsetHeight;else if(e.bottom+t.offsetHeight<=s)a=e.bottom;if(l+t.offsetWidth>u)l=u-t.offsetWidth}t.style.top=a+"px";t.style.left=t.style.right="";if(n=="right"){l=o.sizer.clientWidth-t.offsetWidth;t.style.right="0px"}else{if(n=="left")l=0;else if(n=="middle")l=(o.sizer.clientWidth-t.offsetWidth)/2;t.style.left=l+"px"}if(r)oi(this,l,a,l+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:Vt(Dr),triggerOnKeyPress:Vt(Br),triggerOnKeyUp:Fr,execCommand:function(e){if(Mi.hasOwnProperty(e))return Mi[e](this)},findPosH:function(e,t,r,i){var n=1;if(t<0){n=-1;t=-t}for(var o=0,a=Le(this.doc,e);o<t;++o){a=hi(this.doc,a,n,r,i);if(a.hitSide)break}return a},moveH:Vt(function(e,t){var r=this;r.extendSelectionsBy(function(i){if(r.display.shift||r.doc.extend||i.empty())return hi(r.doc,i.head,e,t,r.options.rtlMoveVisually);else return e<0?i.from():i.to()},Bo)}),deleteH:Vt(function(e,t){var r=this.doc.sel,i=this.doc;if(r.somethingSelected())i.replaceSelection("",null,"+delete");else di(this,function(r){var n=hi(i,r.head,e,t,false);return e<0?{from:n,to:r.head}:{from:r.head,to:n}})}),findPosV:function(e,t,r,i){var n=1,o=i;if(t<0){n=-1;t=-t}for(var a=0,l=Le(this.doc,e);a<t;++a){var s=kt(this,l,"div");if(o==null)o=s.left;else s.left=o;l=pi(this,s,n,r);if(l.hitSide)break}return l},moveV:Vt(function(e,t){var r=this,i=this.doc,n=[];var o=!r.display.shift&&!i.extend&&i.sel.somethingSelected();i.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var l=kt(r,a.head,"div");if(a.goalColumn!=null)l.left=a.goalColumn;n.push(l.left);var s=pi(r,l,e,t);if(t=="page"&&a==i.sel.primary())li(r,null,xt(r,s,"div").top-l.top);return s},Bo);if(n.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=n[a]}),findWordAt:function(e){var t=this.doc,r=$n(t,e.line).text;var i=e.ch,n=e.ch;if(r){var o=this.getHelper(e,"wordChars");if((e.xRel<0||n==r.length)&&i)--i;else++n;var a=r.charAt(i);var l=ea(a,o)?function(e){return ea(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ea(e)};while(i>0&&l(r.charAt(i-1)))--i;while(n<r.length&&l(r.charAt(n)))++n}return new xe(ve(e.line,i),ve(e.line,n))},toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)da(this.display.cursorDiv,"CodeMirror-overwrite");else ca(this.display.cursorDiv,"CodeMirror-overwrite");To(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return ua()==this.display.input},scrollTo:Vt(function(e,t){if(e!=null||t!=null)ui(this);if(e!=null)this.curOp.scrollLeft=e;if(t!=null)this.curOp.scrollTop=t}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-tt(this)-this.display.barHeight,width:e.scrollWidth-tt(this)-this.display.barWidth,clientHeight:it(this),clientWidth:rt(this)}},scrollIntoView:Vt(function(e,t){if(e==null){e={from:this.doc.sel.primary().head,to:null};if(t==null)t=this.options.cursorScrollMargin}else if(typeof e=="number"){e={from:ve(e,0),to:null}}else if(e.from==null){e={from:e,to:null}}if(!e.to)e.to=e.from;e.margin=t||0;if(e.from.line!=null){ui(this);this.curOp.scrollToPos=e}else{var r=ai(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Vt(function(e,t){var r=this;function i(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e}if(e!=null)r.display.wrapper.style.width=i(e);if(t!=null)r.display.wrapper.style.height=i(t);if(r.options.lineWrapping)vt(this);var n=r.display.viewFrom;r.doc.iter(n,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Xt(r,n,"widget");break}++n});r.curOp.forceUpdate=true;To(r,"refresh",this)}),operation:function(e){return Rt(this,e)},refresh:Vt(function(){var e=this.display.cachedTextHeight;_t(this);this.curOp.forceUpdate=true;mt(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);z(this);if(e==null||Math.abs(e-At(this.display))>.5)A(this);To(this,"refresh",this)}),swapDoc:Vt(function(e){var t=this.doc;t.cm=null;Xn(this,e);mt(this);nr(this);this.scrollTo(e.scrollLeft,e.scrollTop);this.curOp.forceScroll=true;Eo(this,"swapDoc",this,t);return t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Io(k);var vi=k.defaults={};var mi=k.optionHandlers={};function gi(e,t,r,i){k.defaults[e]=t;if(r)mi[e]=i?function(e,t,i){if(i!=yi)r(e,t,i)}:r}var yi=k.Init={toString:function(){return"CodeMirror.Init"}};gi("value","",function(e,t){e.setValue(t)},true);gi("mode",null,function(e,t){e.doc.modeOption=t;S(e)},true);gi("indentUnit",2,S,true);gi("indentWithTabs",false);gi("smartIndent",true);gi("tabSize",4,function(e){L(e);mt(e);_t(e)},true);gi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g");e.refresh()},true);gi("specialCharPlaceholder",On,function(e){e.refresh()},true);gi("electricChars",true);gi("rtlMoveVisually",!m);gi("wholeLineUpdateBefore",true);gi("theme","default",function(e){E(e);N(e)},true);gi("keyMap","default",function(e,t,r){var i=zi(t);var n=r!=k.Init&&zi(r);if(n&&n.detach)n.detach(e,i);if(i.attach)i.attach(e,n||null)});gi("extraKeys",null);gi("lineWrapping",false,M,true);gi("gutters",[],function(e){H(e.options);N(e)},true);gi("fixedGutter",true,function(e,t){e.display.gutters.style.left=t?K(e.display)+"px":"0";e.refresh()},true);gi("coverGutterNextToScrollbar",false,function(e){j(e)},true);gi("scrollbarStyle","native",function(e){B(e);j(e);e.display.scrollbars.setScrollTop(e.doc.scrollTop);e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},true);gi("lineNumbers",false,function(e){H(e.options);N(e)},true);gi("firstLineNumber",1,N,true);gi("lineNumberFormatter",function(e){return e},N,true);gi("showCursorWhenSelecting",false,qe,true);gi("resetSelectionOnContextMenu",true);gi("readOnly",false,function(e,t){if(t=="nocursor"){Rr(e);e.display.input.blur();e.display.disabled=true}else{e.display.disabled=false;if(!t)nr(e)}});gi("disableInput",false,function(e,t){if(!t)nr(e)},true);gi("dragDrop",true);gi("cursorBlinkRate",530);gi("cursorScrollMargin",0);gi("cursorHeight",1,qe,true);gi("singleCursorHeightPerLine",true,qe,true);gi("workTime",100);gi("workDelay",100);gi("flattenSpans",true,L,true);gi("addModeClass",false,L,true);gi("pollInterval",100);gi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t});gi("historyEventDelay",1250);gi("viewportMargin",10,function(e){e.refresh()},true);gi("maxHighlightLength",1e4,L,true);gi("moveInputWithCursor",true,function(e,t){if(!t)e.display.inputDiv.style.top=e.display.inputDiv.style.left=0});gi("tabindex",null,function(e,t){e.display.input.tabIndex=t||""});gi("autofocus",null);var bi=k.modes={},wi=k.mimeModes={};k.defineMode=function(e,t){if(!k.defaults.mode&&e!="null")k.defaults.mode=e;if(arguments.length>2)t.dependencies=Array.prototype.slice.call(arguments,2);bi[e]=t};k.defineMIME=function(e,t){wi[e]=t};k.resolveMode=function(e){if(typeof e=="string"&&wi.hasOwnProperty(e)){e=wi[e]}else if(e&&typeof e.name=="string"&&wi.hasOwnProperty(e.name)){var t=wi[e.name];if(typeof t=="string")t={name:t};e=$o(t,e);e.name=t.name}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e)){return k.resolveMode("application/xml")}if(typeof e=="string")return{name:e};else return e||{name:"null"}};k.getMode=function(e,t){var t=k.resolveMode(t);var r=bi[t.name];if(!r)return k.getMode(e,"text/plain");var i=r(e,t);if(xi.hasOwnProperty(t.name)){var n=xi[t.name];for(var o in n){if(!n.hasOwnProperty(o))continue;if(i.hasOwnProperty(o))i["_"+o]=i[o];i[o]=n[o]}}i.name=t.name;if(t.helperType)i.helperType=t.helperType;if(t.modeProps)for(var o in t.modeProps)i[o]=t.modeProps[o];return i};k.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}});k.defineMIME("text/plain","null");var xi=k.modeExtensions={};k.extendMode=function(e,t){var r=xi.hasOwnProperty(e)?xi[e]:xi[e]={};Yo(t,r)};k.defineExtension=function(e,t){k.prototype[e]=t};k.defineDocExtension=function(e,t){qn.prototype[e]=t};k.defineOption=gi;var ki=[];k.defineInitHook=function(e){ki.push(e)};var Ci=k.helpers={};k.registerHelper=function(e,t,r){if(!Ci.hasOwnProperty(e))Ci[e]=k[e]={_global:[]};Ci[e][t]=r};k.registerGlobalHelper=function(e,t,r,i){k.registerHelper(e,t,i);Ci[e]._global.push({pred:r,val:i})};var Si=k.copyState=function(e,t){if(t===true)return t;if(e.copyState)return e.copyState(t);var r={};for(var i in t){var n=t[i];if(n instanceof Array)n=n.concat([]);r[i]=n}return r};var Li=k.startState=function(e,t,r){return e.startState?e.startState(t,r):true};k.innerMode=function(e,t){while(e.innerMode){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state;e=r.mode}return r||{mode:e,state:t}};var Mi=k.commands={selectAll:function(e){e.setSelection(ve(e.firstLine(),0),ve(e.lastLine()),Po)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Po)},killLine:function(e){di(e,function(t){if(t.empty()){var r=$n(e.doc,t.head.line).text.length;if(t.head.ch==r&&t.head.line<e.lastLine())return{from:t.head,to:ve(t.head.line+1,0)};else return{from:t.head,to:ve(t.head.line,r)}}else{return{from:t.from(),to:t.to()}}})},deleteLine:function(e){di(e,function(t){return{from:ve(t.from().line,0),to:Le(e.doc,ve(t.to().line+1,0))}})},delLineLeft:function(e){di(e,function(e){return{from:ve(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){di(e,function(t){var r=e.charCoords(t.head,"div").top+5;var i=e.coordsChar({left:0,top:r},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){di(e,function(t){var r=e.charCoords(t.head,"div").top+5;var i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(ve(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(ve(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Ia(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Da(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Ha(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Bo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Bo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;var i=e.coordsChar({left:0,top:r},"div");if(i.ch<e.getLine(i.line).search(/\S/))return Da(e,t.head);return i},Bo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){var t=[],r=e.listSelections(),i=e.options.tabSize;for(var n=0;n<r.length;n++){var o=r[n].from();var a=Ro(e.getLine(o.line),o.ch,i);t.push(new Array(i-a%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){if(e.somethingSelected())e.indentSelection("add");else e.execCommand("insertTab")},transposeChars:function(e){Rt(e,function(){var t=e.listSelections(),r=[];for(var i=0;i<t.length;i++){var n=t[i].head,o=$n(e.doc,n.line).text;if(o){if(n.ch==o.length)n=new ve(n.line,n.ch-1);if(n.ch>0){n=new ve(n.line,n.ch+1);e.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),ve(n.line,n.ch-2),n,"+transpose")}else if(n.line>e.doc.first){var a=$n(e.doc,n.line-1).text;if(a)e.replaceRange(o.charAt(0)+"\n"+a.charAt(a.length-1),ve(n.line-1,a.length-1),ve(n.line,1),"+transpose")}}r.push(new xe(n,n))}e.setSelections(r)})},newlineAndIndent:function(e){Rt(e,function(){var t=e.listSelections().length;for(var r=0;r<t;r++){var i=e.listSelections()[r];e.replaceRange("\n",i.anchor,i.head,"+input");e.indentLine(i.from().line+1,null,true);si(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}};var Ti=k.keyMap={};Ti.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};Ti.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};Ti.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};Ti.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};Ti["default"]=v?Ti.macDefault:Ti.pcDefault;function Ai(e){var t=e.split(/-(?!$)/),e=t[t.length-1];var r,i,n,o;for(var a=0;a<t.length-1;a++){var l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=true;else if(/^a(lt)?$/i.test(l))r=true;else if(/^(c|ctrl|control)$/i.test(l))i=true;else if(/^s(hift)$/i.test(l))n=true;else throw new Error("Unrecognized modifier name: "+l)}if(r)e="Alt-"+e;if(i)e="Ctrl-"+e;if(o)e="Cmd-"+e;if(n)e="Shift-"+e;return e}k.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(i=="..."){delete e[r];continue}var n=Xo(r.split(" "),Ai);for(var o=0;o<n.length;o++){var a,l;if(o==n.length-1){l=r;a=i}else{l=n.slice(0,o+1).join(" ");a="..."}var s=t[l];if(!s)t[l]=a;else if(s!=a)throw new Error("Inconsistent bindings for "+l)}delete e[r]}for(var u in t)e[u]=t[u];return e};var Ei=k.lookupKey=function(e,t,r,i){t=zi(t);var n=t.call?t.call(e,i):t[e];if(n===false)return"nothing";if(n==="...")return"multi";if(n!=null&&r(n))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Ei(e,t.fallthrough,r,i);for(var o=0;o<t.fallthrough.length;o++){var a=Ei(e,t.fallthrough[o],r,i);if(a)return a}}};var Ni=k.isModifierKey=function(e){var t=typeof e=="string"?e:Aa[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"};var Wi=k.keyName=function(e,t){if(s&&e.keyCode==34&&e["char"])return false;var r=Aa[e.keyCode],i=r;if(i==null||e.altGraphKey)return false;if(e.altKey&&r!="Alt")i="Alt-"+i;if((y?e.metaKey:e.ctrlKey)&&r!="Ctrl")i="Ctrl-"+i;if((y?e.ctrlKey:e.metaKey)&&r!="Cmd")i="Cmd-"+i;if(!t&&e.shiftKey&&r!="Shift")i="Shift-"+i;return i};function zi(e){return typeof e=="string"?Ti[e]:e}k.fromTextArea=function(e,t){t=t?Yo(t):{};t.value=e.value;if(!t.tabindex&&e.tabindex)t.tabindex=e.tabindex;if(!t.placeholder&&e.placeholder)t.placeholder=e.placeholder;if(t.autofocus==null){var r=ua();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function i(){e.value=s.getValue()}if(e.form){Lo(e.form,"submit",i);if(!t.leaveSubmitMethodAlone){var n=e.form,o=n.submit;try{var a=n.submit=function(){i();n.submit=o;n.submit();n.submit=a}}catch(l){}}}t.finishInit=function(t){t.save=i;t.getTextArea=function(){return e};t.toTextArea=function(){t.toTextArea=isNaN;i();e.parentNode.removeChild(t.getWrapperElement());e.style.display="";if(e.form){Mo(e.form,"submit",i);if(typeof e.form.submit=="function")e.form.submit=o}}};e.style.display="none";var s=k(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return s};var Oi=k.StringStream=function(e,t){this.pos=this.start=0;this.string=e;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};Oi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var r=t==e;else var r=t&&(e.test?e.test(t):e(t));if(r){++this.pos;return t}},eatWhile:function(e){var t=this.pos;while(this.eat(e)){}return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1){this.pos=t;return true}},backUp:function(e){this.pos-=e},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=Ro(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?Ro(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ro(this.string,null,this.tabSize)-(this.lineStart?Ro(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if(typeof e=="string"){var i=function(e){return r?e.toLowerCase():e};var n=this.string.substr(this.pos,e.length);if(i(n)==i(e)){if(t!==false)this.pos+=e.length;return true}}else{var o=this.string.slice(this.pos).match(e);if(o&&o.index>0)return null;if(o&&t!==false)this.pos+=o[0].length;return o}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Ii=k.TextMarker=function(e,t){this.lines=[];this.type=t;this.doc=e};Io(Ii);Ii.prototype.clear=function(){if(this.explicitlyCleared)return;var e=this.doc.cm,t=e&&!e.curOp;if(t)zt(e);if(Oo(this,"clear")){var r=this.find();if(r)Eo(this,"clear",r.from,r.to)}var i=null,n=null;for(var o=0;o<this.lines.length;++o){var a=this.lines[o];var l=Vi(a.markedSpans,this);if(e&&!this.collapsed)Xt(e,Qn(a),"text");else if(e){if(l.to!=null)n=Qn(a);if(l.from!=null)i=Qn(a)}a.markedSpans=qi(a.markedSpans,l);if(l.from==null&&this.collapsed&&!dn(this.doc,a)&&e)Jn(a,At(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=sn(this.lines[o]),u=O(s);if(u>e.display.maxLineLength){
e.display.maxLine=s;e.display.maxLineLength=u;e.display.maxLineChanged=true}}if(i!=null&&e&&this.collapsed)_t(e,i,n+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(e)Be(e.doc)}if(e)Eo(e,"markerCleared",e,this);if(t)It(e);if(this.parent)this.parent.clear()};Ii.prototype.find=function(e,t){if(e==null&&this.type=="bookmark")e=1;var r,i;for(var n=0;n<this.lines.length;++n){var o=this.lines[n];var a=Vi(o.markedSpans,this);if(a.from!=null){r=ve(t?o:Qn(o),a.from);if(e==-1)return r}if(a.to!=null){i=ve(t?o:Qn(o),a.to);if(e==1)return i}}return r&&{from:r,to:i}};Ii.prototype.changed=function(){var e=this.find(-1,true),t=this,r=this.doc.cm;if(!e||!r)return;Rt(r,function(){var i=e.line,n=Qn(e.line);var o=st(r,n);if(o){pt(o);r.curOp.selectionChanged=r.curOp.forceUpdate=true}r.curOp.updateMaxLine=true;if(!dn(t.doc,i)&&t.height!=null){var a=t.height;t.height=null;var l=mn(t)-a;if(l)Jn(i,i.height+l)}})};Ii.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;if(!t.maybeHiddenMarkers||_o(t.maybeHiddenMarkers,this)==-1)(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)};Ii.prototype.detachLine=function(e){this.lines.splice(_o(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Hi=0;function Di(e,t,r,i,n){if(i&&i.shared)return Fi(e,t,r,i,n);if(e.cm&&!e.cm.curOp)return Ut(e.cm,Di)(e,t,r,i,n);var o=new Ii(e,n),a=me(t,r);if(i)Yo(i,o,false);if(a>0||a==0&&o.clearWhenEmpty!==false)return o;if(o.replacedWith){o.collapsed=true;o.widgetNode=na("span",[o.replacedWith],"CodeMirror-widget");if(!i.handleMouseEvents)o.widgetNode.setAttribute("cm-ignore-events","true");if(i.insertLeft)o.widgetNode.insertLeft=true}if(o.collapsed){if(ln(e,t.line,t,r,o)||t.line!=r.line&&ln(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");x=true}if(o.addToHistory)lo(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var l=t.line,s=e.cm,u;e.iter(l,r.line+1,function(e){if(s&&o.collapsed&&!s.options.lineWrapping&&sn(e)==s.display.maxLine)u=true;if(o.collapsed&&l!=t.line)Jn(e,0);Gi(e,new Ui(o,l==t.line?t.ch:null,l==r.line?r.ch:null));++l});if(o.collapsed)e.iter(t.line,r.line+1,function(t){if(dn(e,t))Jn(t,0)});if(o.clearOnEnter)Lo(o,"beforeCursorEnter",function(){o.clear()});if(o.readOnly){w=true;if(e.history.done.length||e.history.undone.length)e.clearHistory()}if(o.collapsed){o.id=++Hi;o.atomic=true}if(s){if(u)s.curOp.updateMaxLine=true;if(o.collapsed)_t(s,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var f=t.line;f<=r.line;f++)Xt(s,f,"text");if(o.atomic)Be(s.doc);Eo(s,"markerAdded",s,o)}return o}var Pi=k.SharedTextMarker=function(e,t){this.markers=e;this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Io(Pi);Pi.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Eo(this,"clear")};Pi.prototype.find=function(e,t){return this.primary.find(e,t)};function Fi(e,t,r,i,n){i=Yo(i);i.shared=false;var o=[Di(e,t,r,i,n)],a=o[0];var l=i.widgetNode;_n(e,function(e){if(l)i.widgetNode=l.cloneNode(true);o.push(Di(e,Le(e,t),Le(e,r),i,n));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=Go(o)});return new Pi(o,a)}function Bi(e){return e.findMarks(ve(e.first,0),e.clipPos(ve(e.lastLine())),function(e){return e.parent})}function ji(e,t){for(var r=0;r<t.length;r++){var i=t[r],n=i.find();var o=e.clipPos(n.from),a=e.clipPos(n.to);if(me(o,a)){var l=Di(e,o,a,i.primary,i.primary.type);i.markers.push(l);l.parent=i}}}function Ri(e){for(var t=0;t<e.length;t++){var r=e[t],i=[r.primary.doc];_n(r.primary.doc,function(e){i.push(e)});for(var n=0;n<r.markers.length;n++){var o=r.markers[n];if(_o(i,o.doc)==-1){o.parent=null;r.markers.splice(n--,1)}}}}function Ui(e,t,r){this.marker=e;this.from=t;this.to=r}function Vi(e,t){if(e)for(var r=0;r<e.length;++r){var i=e[r];if(i.marker==t)return i}}function qi(e,t){for(var r,i=0;i<e.length;++i)if(e[i]!=t)(r||(r=[])).push(e[i]);return r}function Gi(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t];t.marker.attachLine(e)}function Ki(e,t,r){if(e)for(var i=0,n;i<e.length;++i){var o=e[i],a=o.marker;var l=o.from==null||(a.inclusiveLeft?o.from<=t:o.from<t);if(l||o.from==t&&a.type=="bookmark"&&(!r||!o.marker.insertLeft)){var s=o.to==null||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Ui(a,o.from,s?null:o.to))}}return n}function _i(e,t,r){if(e)for(var i=0,n;i<e.length;++i){var o=e[i],a=o.marker;var l=o.to==null||(a.inclusiveRight?o.to>=t:o.to>t);if(l||o.from==t&&a.type=="bookmark"&&(!r||o.marker.insertLeft)){var s=o.from==null||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Ui(a,s?null:o.from-t,o.to==null?null:o.to-t))}}return n}function Xi(e,t){if(t.full)return null;var r=Te(e,t.from.line)&&$n(e,t.from.line).markedSpans;var i=Te(e,t.to.line)&&$n(e,t.to.line).markedSpans;if(!r&&!i)return null;var n=t.from.ch,o=t.to.ch,a=me(t.from,t.to)==0;var l=Ki(r,n,a);var s=_i(i,o,a);var u=t.text.length==1,f=Go(t.text).length+(u?n:0);if(l){for(var c=0;c<l.length;++c){var d=l[c];if(d.to==null){var h=Vi(s,d.marker);if(!h)d.to=n;else if(u)d.to=h.to==null?null:h.to+f}}}if(s){for(var c=0;c<s.length;++c){var d=s[c];if(d.to!=null)d.to+=f;if(d.from==null){var h=Vi(l,d.marker);if(!h){d.from=f;if(u)(l||(l=[])).push(d)}}else{d.from+=f;if(u)(l||(l=[])).push(d)}}}if(l)l=$i(l);if(s&&s!=l)s=$i(s);var p=[l];if(!u){var v=t.text.length-2,m;if(v>0&&l)for(var c=0;c<l.length;++c)if(l[c].to==null)(m||(m=[])).push(new Ui(l[c].marker,null,null));for(var c=0;c<v;++c)p.push(m);p.push(s)}return p}function $i(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==false)e.splice(t--,1)}if(!e.length)return null;return e}function Yi(e,t){var r=po(e,t);var i=Xi(e,t);if(!r)return i;if(!i)return r;for(var n=0;n<r.length;++n){var o=r[n],a=i[n];if(o&&a){e:for(var l=0;l<a.length;++l){var s=a[l];for(var u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}}else if(a){r[n]=a}}return r}function Zi(e,t,r){var i=null;e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;if(r.readOnly&&(!i||_o(i,r)==-1))(i||(i=[])).push(r)}});if(!i)return null;var n=[{from:t,to:r}];for(var o=0;o<i.length;++o){var a=i[o],l=a.find(0);for(var s=0;s<n.length;++s){var u=n[s];if(me(u.to,l.from)<0||me(u.from,l.to)>0)continue;var f=[s,1],c=me(u.from,l.from),d=me(u.to,l.to);if(c<0||!a.inclusiveLeft&&!c)f.push({from:u.from,to:l.from});if(d>0||!a.inclusiveRight&&!d)f.push({from:l.to,to:u.to});n.splice.apply(n,f);s+=f.length-1}}return n}function Ji(e){var t=e.markedSpans;if(!t)return;for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}function Qi(e,t){if(!t)return;for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}function en(e){return e.inclusiveLeft?-1:0}function tn(e){return e.inclusiveRight?1:0}function rn(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var i=e.find(),n=t.find();var o=me(i.from,n.from)||en(e)-en(t);if(o)return-o;var a=me(i.to,n.to)||tn(e)-tn(t);if(a)return a;return t.id-e.id}function nn(e,t){var r=x&&e.markedSpans,i;if(r)for(var n,o=0;o<r.length;++o){n=r[o];if(n.marker.collapsed&&(t?n.from:n.to)==null&&(!i||rn(i,n.marker)<0))i=n.marker}return i}function on(e){return nn(e,true)}function an(e){return nn(e,false)}function ln(e,t,r,i,n){var o=$n(e,t);var a=x&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(!s.marker.collapsed)continue;var u=s.marker.find(0);var f=me(u.from,r)||en(s.marker)-en(n);var c=me(u.to,i)||tn(s.marker)-tn(n);if(f>=0&&c<=0||f<=0&&c>=0)continue;if(f<=0&&(me(u.to,r)>0||s.marker.inclusiveRight&&n.inclusiveLeft)||f>=0&&(me(u.from,i)<0||s.marker.inclusiveLeft&&n.inclusiveRight))return true}}function sn(e){var t;while(t=on(e))e=t.find(-1,true).line;return e}function un(e){var t,r;while(t=an(e)){e=t.find(1,true).line;(r||(r=[])).push(e)}return r}function fn(e,t){var r=$n(e,t),i=sn(r);if(r==i)return t;return Qn(i)}function cn(e,t){if(t>e.lastLine())return t;var r=$n(e,t),i;if(!dn(e,r))return t;while(i=an(r))r=i.find(1,true).line;return Qn(r)+1}function dn(e,t){var r=x&&t.markedSpans;if(r)for(var i,n=0;n<r.length;++n){i=r[n];if(!i.marker.collapsed)continue;if(i.from==null)return true;if(i.marker.widgetNode)continue;if(i.from==0&&i.marker.inclusiveLeft&&hn(e,t,i))return true}}function hn(e,t,r){if(r.to==null){var i=r.marker.find(1,true);return hn(e,i.line,Vi(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return true;for(var n,o=0;o<t.markedSpans.length;++o){n=t.markedSpans[o];if(n.marker.collapsed&&!n.marker.widgetNode&&n.from==r.to&&(n.to==null||n.to!=r.from)&&(n.marker.inclusiveLeft||r.marker.inclusiveRight)&&hn(e,t,n))return true}}var pn=k.LineWidget=function(e,t,r){if(r)for(var i in r)if(r.hasOwnProperty(i))this[i]=r[i];this.cm=e;this.node=t};Io(pn);function vn(e,t,r){if(to(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop))li(e,null,r)}pn.prototype.clear=function(){var e=this.cm,t=this.line.widgets,r=this.line,i=Qn(r);if(i==null||!t)return;for(var n=0;n<t.length;++n)if(t[n]==this)t.splice(n--,1);if(!t.length)r.widgets=null;var o=mn(this);Rt(e,function(){vn(e,r,-o);Xt(e,i,"widget");Jn(r,Math.max(0,r.height-o))})};pn.prototype.changed=function(){var e=this.height,t=this.cm,r=this.line;this.height=null;var i=mn(this)-e;if(!i)return;Rt(t,function(){t.curOp.forceUpdate=true;vn(t,r,i);Jn(r,r.height+i)})};function mn(e){if(e.height!=null)return e.height;if(!sa(document.body,e.node)){var t="position: relative;";if(e.coverGutter)t+="margin-left: -"+e.cm.display.gutters.offsetWidth+"px;";if(e.noHScroll)t+="width: "+e.cm.display.wrapper.clientWidth+"px;";la(e.cm.display.measure,na("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function gn(e,t,r,i){var n=new pn(e,r,i);if(n.noHScroll)e.display.alignWidgets=true;ci(e.doc,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(n.insertAt==null)r.push(n);else r.splice(Math.min(r.length-1,Math.max(0,n.insertAt)),0,n);n.line=t;if(!dn(e.doc,t)){var i=to(t)<e.doc.scrollTop;Jn(t,t.height+mn(n));if(i)li(e,null,n.height);e.curOp.forceUpdate=true}return true});return n}var yn=k.Line=function(e,t,r){this.text=e;Qi(this,t);this.height=r?r(this):1};Io(yn);yn.prototype.lineNo=function(){return Qn(this)};function bn(e,t,r,i){e.text=t;if(e.stateAfter)e.stateAfter=null;if(e.styles)e.styles=null;if(e.order!=null)e.order=null;Ji(e);Qi(e,r);var n=i?i(e):1;if(n!=e.height)Jn(e,n)}function wn(e){e.parent=null;Ji(e)}function xn(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var i=r[1]?"bgClass":"textClass";if(t[i]==null)t[i]=r[2];else if(!new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[i]))t[i]+=" "+r[2]}return e}function kn(e,t){if(e.blankLine)return e.blankLine(t);if(!e.innerMode)return;var r=k.innerMode(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}function Cn(e,t,r,i){for(var n=0;n<10;n++){if(i)i[0]=k.innerMode(e,r).mode;var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Sn(e,t,r,i){function n(e){return{start:f.start,end:f.pos,string:f.current(),type:l||null,state:e?Si(o.mode,u):u}}var o=e.doc,a=o.mode,l;t=Le(o,t);var s=$n(o,t.line),u=Ze(e,t.line,r);var f=new Oi(s.text,e.options.tabSize),c;if(i)c=[];while((i||f.pos<t.ch)&&!f.eol()){f.start=f.pos;l=Cn(a,f,u);if(i)c.push(n(true))}return i?c:n()}function Ln(e,t,r,i,n,o,a){var l=r.flattenSpans;if(l==null)l=e.options.flattenSpans;var s=0,u=null;var f=new Oi(t,e.options.tabSize),c;var d=e.options.addModeClass&&[null];if(t=="")xn(kn(r,i),o);while(!f.eol()){if(f.pos>e.options.maxHighlightLength){l=false;if(a)An(e,t,i,f.pos);f.pos=t.length;c=null}else{c=xn(Cn(r,f,i,d),o)}if(d){var h=d[0].name;if(h)c="m-"+(c?h+" "+c:h)}if(!l||u!=c){while(s<f.start){s=Math.min(f.start,s+5e4);n(s,u)}u=c}f.start=f.pos}while(s<f.pos){var p=Math.min(f.pos,s+5e4);n(p,u);s=p}}function Mn(e,t,r,i){var n=[e.state.modeGen],o={};Ln(e,t.text,e.doc.mode,r,function(e,t){n.push(e,t)},o,i);for(var a=0;a<e.state.overlays.length;++a){var l=e.state.overlays[a],s=1,u=0;Ln(e,t.text,l.mode,true,function(e,t){var r=s;while(u<e){var i=n[s];if(i>e)n.splice(s,1,e,n[s+1],i);s+=2;u=Math.min(e,i)}if(!t)return;if(l.opaque){n.splice(r,s-r,e,"cm-overlay "+t);s=r+2}else{for(;r<s;r+=2){var o=n[r+1];n[r+1]=(o?o+" ":"")+"cm-overlay "+t}}},o)}return{styles:n,classes:o.bgClass||o.textClass?o:null}}function Tn(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Mn(e,t,t.stateAfter=Ze(e,Qn(t)));t.styles=i.styles;if(i.classes)t.styleClasses=i.classes;else if(t.styleClasses)t.styleClasses=null;if(r===e.doc.frontier)e.doc.frontier++}return t.styles}function An(e,t,r,i){var n=e.doc.mode;var o=new Oi(t,e.options.tabSize);o.start=o.pos=i||0;if(t=="")kn(n,r);while(!o.eol()&&o.pos<=e.options.maxHighlightLength){Cn(n,o,r);o.start=o.pos}}var En={},Nn={};function Wn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Nn:En;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function zn(e,t){var r=na("span",null,null,o?"padding-right: .1px":null);var n={pre:na("pre",[r]),content:r,col:0,pos:0,cm:e};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var l=a?t.rest[a-1]:t.line,s;n.pos=0;n.addToken=In;if((i||o)&&e.getOption("lineWrapping"))n.addToken=Hn(n.addToken);if(ka(e.display.measure)&&(s=ro(l)))n.addToken=Dn(n.addToken,s);n.map=[];var u=t!=e.display.externalMeasured&&Qn(l);Fn(l,n,Tn(e,l,u));if(l.styleClasses){if(l.styleClasses.bgClass)n.bgClass=ha(l.styleClasses.bgClass,n.bgClass||"");if(l.styleClasses.textClass)n.textClass=ha(l.styleClasses.textClass,n.textClass||"")}if(n.map.length==0)n.map.push(0,0,n.content.appendChild(wa(e.display.measure)));if(a==0){t.measure.map=n.map;t.measure.cache={}}else{(t.measure.maps||(t.measure.maps=[])).push(n.map);(t.measure.caches||(t.measure.caches=[])).push({})}}if(o&&/\bcm-tab\b/.test(n.content.lastChild.className))n.content.className="cm-tab-wrap-hack";To(e,"renderLine",e,t.line,n.pre);if(n.pre.className)n.textClass=ha(n.pre.className,n.textClass||"");return n}function On(e){var t=na("span","•","cm-invalidchar");t.title="\\u"+e.charCodeAt(0).toString(16);t.setAttribute("aria-label",t.title);return t}function In(e,t,r,o,a,l,s){if(!t)return;var u=e.cm.options.specialChars,f=false;if(!u.test(t)){e.col+=t.length;var c=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,c);if(i&&n<9)f=true;e.pos+=t.length}else{var c=document.createDocumentFragment(),d=0;while(true){u.lastIndex=d;var h=u.exec(t);var p=h?h.index-d:t.length-d;if(p){var v=document.createTextNode(t.slice(d,d+p));if(i&&n<9)c.appendChild(na("span",[v]));else c.appendChild(v);e.map.push(e.pos,e.pos+p,v);e.col+=p;e.pos+=p}if(!h)break;d+=p+1;if(h[0]=="	"){var m=e.cm.options.tabSize,g=m-e.col%m;var v=c.appendChild(na("span",qo(g),"cm-tab"));v.setAttribute("role","presentation");e.col+=g}else{var v=e.cm.options.specialCharPlaceholder(h[0]);if(i&&n<9)c.appendChild(na("span",[v]));else c.appendChild(v);e.col+=1}e.map.push(e.pos,e.pos+1,v);e.pos++}}if(r||o||a||f||s){var y=r||"";if(o)y+=o;if(a)y+=a;var b=na("span",[c],y,s);if(l)b.title=l;return e.content.appendChild(b)}e.content.appendChild(c)}function Hn(e){function t(e){var t=" ";for(var r=0;r<e.length-2;++r)t+=r%2?" ":" ";t+=" ";return t}return function(r,i,n,o,a,l){e(r,i.replace(/ {3,}/g,t),n,o,a,l)}}function Dn(e,t){return function(r,i,n,o,a,l){n=n?n+" cm-force-border":"cm-force-border";var s=r.pos,u=s+i.length;for(;;){for(var f=0;f<t.length;f++){var c=t[f];if(c.to>s&&c.from<=s)break}if(c.to>=u)return e(r,i,n,o,a,l);e(r,i.slice(0,c.to-s),n,o,null,l);o=null;i=i.slice(c.to-s);s=c.to}}}function Pn(e,t,r,i){var n=!i&&r.widgetNode;if(n){e.map.push(e.pos,e.pos+t,n);e.content.appendChild(n)}e.pos+=t}function Fn(e,t,r){var i=e.markedSpans,n=e.text,o=0;if(!i){for(var a=1;a<r.length;a+=2)t.addToken(t,n.slice(o,o=r[a]),Wn(r[a+1],t.cm.options));return}var l=n.length,s=0,a=1,u="",f,c;var d=0,h,p,v,m,g;for(;;){if(d==s){h=p=v=m=c="";g=null;d=Infinity;var y=[];for(var b=0;b<i.length;++b){var w=i[b],x=w.marker;if(w.from<=s&&(w.to==null||w.to>s)){if(w.to!=null&&d>w.to){d=w.to;p=""}if(x.className)h+=" "+x.className;if(x.css)c=x.css;if(x.startStyle&&w.from==s)v+=" "+x.startStyle;if(x.endStyle&&w.to==d)p+=" "+x.endStyle;if(x.title&&!m)m=x.title;if(x.collapsed&&(!g||rn(g.marker,x)<0))g=w}else if(w.from>s&&d>w.from){d=w.from}if(x.type=="bookmark"&&w.from==s&&x.widgetNode)y.push(x)}if(g&&(g.from||0)==s){Pn(t,(g.to==null?l+1:g.to)-s,g.marker,g.from==null);if(g.to==null)return}if(!g&&y.length)for(var b=0;b<y.length;++b)Pn(t,0,y[b])}if(s>=l)break;var k=Math.min(l,d);while(true){if(u){var C=s+u.length;if(!g){var S=C>k?u.slice(0,k-s):u;t.addToken(t,S,f?f+h:h,v,s+S.length==d?p:"",m,c)}if(C>=k){u=u.slice(k-s);s=k;break}s=C;v=""}u=n.slice(o,o=r[a++]);f=Wn(r[a++],t.cm.options)}}}function Bn(e,t){return t.from.ch==0&&t.to.ch==0&&Go(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function jn(e,t,r,i){function n(e){return r?r[e]:null}function o(e,r,n){bn(e,r,n,i);Eo(e,"change",e,t)}function a(e,t){for(var r=e,o=[];r<t;++r)o.push(new yn(u[r],n(r),i));return o}var l=t.from,s=t.to,u=t.text;var f=$n(e,l.line),c=$n(e,s.line);var d=Go(u),h=n(u.length-1),p=s.line-l.line;if(t.full){e.insert(0,a(0,u.length));e.remove(u.length,e.size-u.length)}else if(Bn(e,t)){var v=a(0,u.length-1);o(c,c.text,h);if(p)e.remove(l.line,p);if(v.length)e.insert(l.line,v)}else if(f==c){if(u.length==1){o(f,f.text.slice(0,l.ch)+d+f.text.slice(s.ch),h)}else{var v=a(1,u.length-1);v.push(new yn(d+f.text.slice(s.ch),h,i));o(f,f.text.slice(0,l.ch)+u[0],n(0));e.insert(l.line+1,v)}}else if(u.length==1){o(f,f.text.slice(0,l.ch)+u[0]+c.text.slice(s.ch),n(0));e.remove(l.line+1,p)}else{o(f,f.text.slice(0,l.ch)+u[0],n(0));o(c,d+c.text.slice(s.ch),h);var v=a(1,u.length-1);if(p>1)e.remove(l.line+1,p-1);e.insert(l.line+1,v)}Eo(e,"change",e,t)}function Rn(e){this.lines=e;this.parent=null;for(var t=0,r=0;t<e.length;++t){e[t].parent=this;r+=e[t].height}this.height=r}Rn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,i=e+t;r<i;++r){var n=this.lines[r];this.height-=n.height;wn(n);Eo(n,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r;this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,r){for(var i=e+t;e<i;++e)if(r(this.lines[e]))return true}};function Un(e){this.children=e;var t=0,r=0;for(var i=0;i<e.length;++i){var n=e[i];t+=n.chunkSize();r+=n.height;n.parent=this}this.size=t;this.height=r;this.parent=null}Un.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],n=i.chunkSize();if(e<n){var o=Math.min(t,n-e),a=i.height;i.removeInner(e,o);this.height-=a-i.height;if(n==o){this.children.splice(r--,1);i.parent=null}if((t-=o)==0)break;e=0}else e-=n}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Rn))){var l=[];this.collapse(l);this.children=[new Rn(l)];this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length;this.height+=r;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<=o){n.insertInner(e,t,r);if(n.lines&&n.lines.length>50){while(n.lines.length>50){var a=n.lines.splice(n.lines.length-25,25);var l=new Rn(a);n.height-=l.height;this.children.splice(i+1,0,l);l.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5);var r=new Un(t);if(!e.parent){var i=new Un(e.children);i.parent=e;e.children=[i,r];e=i}else{e.size-=r.size;e.height-=r.height;var n=_o(e.parent.children,e);e.parent.children.splice(n+1,0,r)}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,r){for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var a=Math.min(t,o-e);if(n.iterN(e,a,r))return true;if((t-=a)==0)break;e=0}else e-=o}}};var Vn=0;var qn=k.Doc=function(e,t,r){if(!(this instanceof qn))return new qn(e,t,r);if(r==null)r=0;Un.call(this,[new Rn([new yn("",null)])]);this.first=r;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=r;var i=ve(r,0);this.sel=Ce(i);this.history=new io(null);this.id=++Vn;this.modeOption=t;if(typeof e=="string")e=Ca(e);jn(this,{from:i,to:i,text:e});De(this,Ce(i),Po)};qn.prototype=$o(Un.prototype,{constructor:qn,iter:function(e,t,r){if(r)this.iterN(e-this.first,t-e,r);else this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var r=0;for(var i=0;i<t.length;++i)r+=t[i].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zn(this,this.first,this.first+this.size);if(e===false)return t;return t.join(e||"\n")},setValue:qt(function(e){var t=ve(this.first,0),r=this.first+this.size-1;Yr(this,{from:t,to:ve(r,$n(this,r).text.length),text:Ca(e),origin:"setValue",full:true},true);De(this,Ce(t))}),replaceRange:function(e,t,r,i){t=Le(this,t);r=r?Le(this,r):t;ri(this,e,t,r,i)},getRange:function(e,t,r){var i=Yn(this,Le(this,e),Le(this,t));if(r===false)return i;return i.join(r||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Te(this,e))return $n(this,e)},getLineNumber:function(e){return Qn(e)},getLineHandleVisualStart:function(e){if(typeof e=="number")e=$n(this,e);return sn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Le(this,e)},getCursor:function(e){var t=this.sel.primary(),r;if(e==null||e=="head")r=t.head;else if(e=="anchor")r=t.anchor;else if(e=="end"||e=="to"||e===false)r=t.to();else r=t.from();return r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qt(function(e,t,r){Oe(this,Le(this,typeof e=="number"?ve(e,t||0):e),null,r)}),setSelection:qt(function(e,t,r){Oe(this,Le(this,e),Le(this,t||e),r)}),extendSelection:qt(function(e,t,r){Ne(this,Le(this,e),t&&Le(this,t),r)}),extendSelections:qt(function(e,t){We(this,Ae(this,e,t))}),extendSelectionsBy:qt(function(e,t){We(this,Xo(this.sel.ranges,e),t)}),setSelections:qt(function(e,t,r){if(!e.length)return;for(var i=0,n=[];i<e.length;i++)n[i]=new xe(Le(this,e[i].anchor),Le(this,e[i].head));if(t==null)t=Math.min(e.length-1,this.sel.primIndex);De(this,ke(n,t),r)}),addSelection:qt(function(e,t,r){var i=this.sel.ranges.slice(0);i.push(new xe(Le(this,e),Le(this,t||e)));De(this,ke(i,i.length-1),r)}),getSelection:function(e){var t=this.sel.ranges,r;for(var i=0;i<t.length;i++){var n=Yn(this,t[i].from(),t[i].to());r=r?r.concat(n):n}if(e===false)return r;else return r.join(e||"\n")},getSelections:function(e){var t=[],r=this.sel.ranges;for(var i=0;i<r.length;i++){var n=Yn(this,r[i].from(),r[i].to());if(e!==false)n=n.join(e||"\n");t[i]=n}return t},replaceSelection:function(e,t,r){var i=[];for(var n=0;n<this.sel.ranges.length;n++)i[n]=e;this.replaceSelections(i,t,r||"+input")},replaceSelections:qt(function(e,t,r){var i=[],n=this.sel;for(var o=0;o<n.ranges.length;o++){var a=n.ranges[o];i[o]={from:a.from(),to:a.to(),text:Ca(e[o]),origin:r}}var l=t&&t!="end"&&Xr(this,i,t);for(var o=i.length-1;o>=0;o--)Yr(this,i[o]);if(l)He(this,l);else if(this.cm)si(this.cm)}),undo:qt(function(){Jr(this,"undo")}),redo:qt(function(){Jr(this,"redo")}),undoSelection:qt(function(){Jr(this,"undo",true)}),redoSelection:qt(function(){Jr(this,"redo",true)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history,t=0,r=0;for(var i=0;i<e.done.length;i++)if(!e.done[i].ranges)++t;for(var i=0;i<e.undone.length;i++)if(!e.undone[i].ranges)++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new io(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(e){if(e)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vo(this.history.done),undone:vo(this.history.undone)}},setHistory:function(e){var t=this.history=new io(this.history.maxGeneration);t.done=vo(e.done.slice(0),null,true);t.undone=vo(e.undone.slice(0),null,true)},addLineClass:qt(function(e,t,r){return ci(this,e,t=="gutter"?"gutter":"class",function(e){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!e[i])e[i]=r;else if(fa(r).test(e[i]))return false;else e[i]+=" "+r;return true})}),removeLineClass:qt(function(e,t,r){return ci(this,e,t=="gutter"?"gutter":"class",function(e){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";var n=e[i];if(!n)return false;else if(r==null)e[i]=null;else{var o=n.match(fa(r));if(!o)return false;var a=o.index+o[0].length;e[i]=n.slice(0,o.index)+(!o.index||a==n.length?"":" ")+n.slice(a)||null}return true})}),markText:function(e,t,r){return Di(this,Le(this,e),Le(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:false,shared:t&&t.shared};e=Le(this,e);return Di(this,e,e,r,"bookmark")},findMarksAt:function(e){e=Le(this,e);var t=[],r=$n(this,e.line).markedSpans;if(r)for(var i=0;i<r.length;++i){var n=r[i];if((n.from==null||n.from<=e.ch)&&(n.to==null||n.to>=e.ch))t.push(n.marker.parent||n.marker)}return t},findMarks:function(e,t,r){e=Le(this,e);t=Le(this,t);var i=[],n=e.line;this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];if(!(n==e.line&&e.ch>s.to||s.from==null&&n!=e.line||n==t.line&&s.from>t.ch)&&(!r||r(s.marker)))i.push(s.marker.parent||s.marker)}++n});return i},getAllMarks:function(){var e=[];this.iter(function(t){var r=t.markedSpans;if(r)for(var i=0;i<r.length;++i)if(r[i].from!=null)e.push(r[i].marker)});return e},posFromIndex:function(e){var t,r=this.first;this.iter(function(i){var n=i.text.length+1;if(n>e){t=e;return true}e-=n;++r});return Le(this,ve(r,t))},indexFromPos:function(e){e=Le(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;this.iter(this.first,e.line,function(e){t+=e.text.length+1});return t},copy:function(e){var t=new qn(Zn(this,this.first,this.first+this.size),this.modeOption,this.first);t.scrollTop=this.scrollTop;t.scrollLeft=this.scrollLeft;t.sel=this.sel;t.extend=false;if(e){t.history.undoDepth=this.history.undoDepth;t.setHistory(this.getHistory())}return t},linkedDoc:function(e){if(!e)e={};var t=this.first,r=this.first+this.size;if(e.from!=null&&e.from>t)t=e.from;if(e.to!=null&&e.to<r)r=e.to;var i=new qn(Zn(this,t,r),e.mode||this.modeOption,t);if(e.sharedHist)i.history=this.history;(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist});i.linked=[{doc:this,isParent:true,sharedHist:e.sharedHist}];ji(i,Bi(this));return i},unlinkDoc:function(e){if(e instanceof k)e=e.doc;if(this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc!=e)continue;this.linked.splice(t,1);e.unlinkDoc(this);Ri(Bi(this));break}if(e.history==this.history){var i=[e.id];_n(e,function(e){i.push(e.id)},true);e.history=new io(null);e.history.done=vo(this.history.done,i);e.history.undone=vo(this.history.undone,i)}},iterLinkedDocs:function(e){_n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});qn.prototype.eachLine=qn.prototype.iter;var Gn="iter insert remove copy getEditor".split(" ");for(var Kn in qn.prototype)if(qn.prototype.hasOwnProperty(Kn)&&_o(Gn,Kn)<0)k.prototype[Kn]=function(e){return function(){return e.apply(this.doc,arguments)}}(qn.prototype[Kn]);Io(qn);function _n(e,t,r){function i(e,n,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc==n)continue;var s=o&&l.sharedHist;if(r&&!s)continue;t(l.doc,s);i(l.doc,e,s)}}i(e,null,true)}function Xn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t;t.cm=e;A(e);S(e);if(!e.options.lineWrapping)I(e);e.options.mode=t.modeOption;_t(e)}function $n(e,t){t-=e.first;if(t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;){for(var i=0;;++i){var n=r.children[i],o=n.chunkSize();if(t<o){r=n;break}t-=o}}return r.lines[t]}function Yn(e,t,r){var i=[],n=t.line;e.iter(t.line,r.line+1,function(e){var o=e.text;if(n==r.line)o=o.slice(0,r.ch);if(n==t.line)o=o.slice(t.ch);i.push(o);++n});return i}function Zn(e,t,r){var i=[];e.iter(t,r,function(e){i.push(e.text)});return i}function Jn(e,t){var r=t-e.height;if(r)for(var i=e;i;i=i.parent)i.height+=r}function Qn(e){if(e.parent==null)return null;var t=e.parent,r=_o(t.lines,e);for(var i=t.parent;i;t=i,i=i.parent){for(var n=0;;++n){if(i.children[n]==t)break;r+=i.children[n].chunkSize()}}return r+t.first}function eo(e,t){var r=e.first;e:do{for(var i=0;i<e.children.length;++i){var n=e.children[i],o=n.height;if(t<o){e=n;continue e}t-=o;r+=n.chunkSize()}return r}while(!e.lines);for(var i=0;i<e.lines.length;++i){var a=e.lines[i],l=a.height;if(t<l)break;t-=l}return r+i}function to(e){e=sn(e);var t=0,r=e.parent;for(var i=0;i<r.lines.length;++i){var n=r.lines[i];if(n==e)break;else t+=n.height}for(var o=r.parent;o;r=o,o=r.parent){for(var i=0;i<o.children.length;++i){var a=o.children[i];if(a==r)break;else t+=a.height}}return t}function ro(e){var t=e.order;if(t==null)t=e.order=Va(e.text);return t}function io(e){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=e||1}function no(e,t){var r={from:ge(t.from),to:qr(t),text:Yn(e,t.from,t.to)};co(e,r,t.from.line,t.to.line+1);_n(e,function(e){co(e,r,t.from.line,t.to.line+1)},true);return r}function oo(e){while(e.length){var t=Go(e);if(t.ranges)e.pop();else break}}function ao(e,t){if(t){oo(e.done);return Go(e.done)}else if(e.done.length&&!Go(e.done).ranges){return Go(e.done)}else if(e.done.length>1&&!e.done[e.done.length-2].ranges){e.done.pop();return Go(e.done)}}function lo(e,t,r,i){var n=e.history;n.undone.length=0;var o=+new Date,a;if((n.lastOp==i||n.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&e.cm&&n.lastModTime>o-e.cm.options.historyEventDelay||t.origin.charAt(0)=="*"))&&(a=ao(n,n.lastOp==i))){var l=Go(a.changes);if(me(t.from,t.to)==0&&me(t.from,l.to)==0){l.to=qr(t)}else{a.changes.push(no(e,t))}}else{var s=Go(n.done);if(!s||!s.ranges)fo(e.sel,n.done);a={changes:[no(e,t)],generation:n.generation};n.done.push(a);while(n.done.length>n.undoDepth){n.done.shift();if(!n.done[0].ranges)n.done.shift()}}n.done.push(r);n.generation=++n.maxGeneration;n.lastModTime=n.lastSelTime=o;n.lastOp=n.lastSelOp=i;n.lastOrigin=n.lastSelOrigin=t.origin;if(!l)To(e,"historyAdded")}function so(e,t,r,i){var n=t.charAt(0);return n=="*"||n=="+"&&r.ranges.length==i.ranges.length&&r.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function uo(e,t,r,i){var n=e.history,o=i&&i.origin;if(r==n.lastSelOp||o&&n.lastSelOrigin==o&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==o||so(e,o,Go(n.done),t)))n.done[n.done.length-1]=t;else fo(t,n.done);n.lastSelTime=+new Date;n.lastSelOrigin=o;n.lastSelOp=r;if(i&&i.clearRedo!==false)oo(n.undone)}function fo(e,t){var r=Go(t);if(!(r&&r.ranges&&r.equals(e)))t.push(e)}function co(e,t,r,i){var n=t["spans_"+e.id],o=0;
e.iter(Math.max(e.first,r),Math.min(e.first+e.size,i),function(r){if(r.markedSpans)(n||(n=t["spans_"+e.id]={}))[o]=r.markedSpans;++o})}function ho(e){if(!e)return null;for(var t=0,r;t<e.length;++t){if(e[t].marker.explicitlyCleared){if(!r)r=e.slice(0,t)}else if(r)r.push(e[t])}return!r?e:r.length?r:null}function po(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var i=0,n=[];i<t.text.length;++i)n.push(ho(r[i]));return n}function vo(e,t,r){for(var i=0,n=[];i<e.length;++i){var o=e[i];if(o.ranges){n.push(r?we.prototype.deepCopy.call(o):o);continue}var a=o.changes,l=[];n.push({changes:l});for(var s=0;s<a.length;++s){var u=a[s],f;l.push({from:u.from,to:u.to,text:u.text});if(t)for(var c in u)if(f=c.match(/^spans_(\d+)$/)){if(_o(t,Number(f[1]))>-1){Go(l)[c]=u[c];delete u[c]}}}}return n}function mo(e,t,r,i){if(r<e.line){e.line+=i}else if(t<e.line){e.line=t;e.ch=0}}function go(e,t,r,i){for(var n=0;n<e.length;++n){var o=e[n],a=true;if(o.ranges){if(!o.copied){o=e[n]=o.deepCopy();o.copied=true}for(var l=0;l<o.ranges.length;l++){mo(o.ranges[l].anchor,t,r,i);mo(o.ranges[l].head,t,r,i)}continue}for(var l=0;l<o.changes.length;++l){var s=o.changes[l];if(r<s.from.line){s.from=ve(s.from.line+i,s.from.ch);s.to=ve(s.to.line+i,s.to.ch)}else if(t<=s.to.line){a=false;break}}if(!a){e.splice(0,n+1);n=0}}}function yo(e,t){var r=t.from.line,i=t.to.line,n=t.text.length-(i-r)-1;go(e.done,r,i,n);go(e.undone,r,i,n)}var bo=k.e_preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false};var wo=k.e_stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};function xo(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}var ko=k.e_stop=function(e){bo(e);wo(e)};function Co(e){return e.target||e.srcElement}function So(e){var t=e.which;if(t==null){if(e.button&1)t=1;else if(e.button&2)t=3;else if(e.button&4)t=2}if(v&&e.ctrlKey&&t==1)t=3;return t}var Lo=k.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,false);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var i=e._handlers||(e._handlers={});var n=i[t]||(i[t]=[]);n.push(r)}};var Mo=k.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,false);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var n=0;n<i.length;++n)if(i[n]==r){i.splice(n,1);break}}};var To=k.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(!r)return;var i=Array.prototype.slice.call(arguments,2);for(var n=0;n<r.length;++n)r[n].apply(null,i)};var Ao=null;function Eo(e,t){var r=e._handlers&&e._handlers[t];if(!r)return;var i=Array.prototype.slice.call(arguments,2),n;if(Nt){n=Nt.delayedCallbacks}else if(Ao){n=Ao}else{n=Ao=[];setTimeout(No,0)}function o(e){return function(){e.apply(null,i)}}for(var a=0;a<r.length;++a)n.push(o(r[a]))}function No(){var e=Ao;Ao=null;for(var t=0;t<e.length;++t)e[t]()}function Wo(e,t,r){if(typeof t=="string")t={type:t,preventDefault:function(){this.defaultPrevented=true}};To(e,r||t.type,e,t);return xo(t)||t.codemirrorIgnore}function zo(e){var t=e._handlers&&e._handlers.cursorActivity;if(!t)return;var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var i=0;i<t.length;++i)if(_o(r,t[i])==-1)r.push(t[i])}function Oo(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Io(e){e.prototype.on=function(e,t){Lo(this,e,t)};e.prototype.off=function(e,t){Mo(this,e,t)}}var Ho=30;var Do=k.Pass={toString:function(){return"CodeMirror.Pass"}};var Po={scroll:false},Fo={origin:"*mouse"},Bo={origin:"+move"};function jo(){this.id=null}jo.prototype.set=function(e,t){clearTimeout(this.id);this.id=setTimeout(t,e)};var Ro=k.countColumn=function(e,t,r,i,n){if(t==null){t=e.search(/[^\s\u00a0]/);if(t==-1)t=e.length}for(var o=i||0,a=n||0;;){var l=e.indexOf("	",o);if(l<0||l>=t)return a+(t-o);a+=l-o;a+=r-a%r;o=l+1}};function Uo(e,t,r){for(var i=0,n=0;;){var o=e.indexOf("	",i);if(o==-1)o=e.length;var a=o-i;if(o==e.length||n+a>=t)return i+Math.min(a,t-n);n+=o-i;n+=r-n%r;i=o+1;if(n>=t)return i}}var Vo=[""];function qo(e){while(Vo.length<=e)Vo.push(Go(Vo)+" ");return Vo[e]}function Go(e){return e[e.length-1]}var Ko=function(e){e.select()};if(h)Ko=function(e){e.selectionStart=0;e.selectionEnd=e.value.length};else if(i)Ko=function(e){try{e.select()}catch(t){}};function _o(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Xo(e,t){var r=[];for(var i=0;i<e.length;i++)r[i]=t(e[i],i);return r}function $o(e,t){var r;if(Object.create){r=Object.create(e)}else{var i=function(){};i.prototype=e;r=new i}if(t)Yo(t,r);return r}function Yo(e,t,r){if(!t)t={};for(var i in e)if(e.hasOwnProperty(i)&&(r!==false||!t.hasOwnProperty(i)))t[i]=e[i];return t}function Zo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}var Jo=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var Qo=k.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Jo.test(e))};function ea(e,t){if(!t)return Qo(e);if(t.source.indexOf("\\w")>-1&&Qo(e))return true;return t.test(e)}function ta(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return false;return true}var ra=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ia(e){return e.charCodeAt(0)>=768&&ra.test(e)}function na(e,t,r,i){var n=document.createElement(e);if(r)n.className=r;if(i)n.style.cssText=i;if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)n.appendChild(t[o]);return n}var oa;if(document.createRange)oa=function(e,t,r){var i=document.createRange();i.setEnd(e,r);i.setStart(e,t);return i};else oa=function(e,t,r){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(n){return i}i.collapse(true);i.moveEnd("character",r);i.moveStart("character",t);return i};function aa(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function la(e,t){return aa(e).appendChild(t)}var sa=k.contains=function(e,t){if(e.contains)return e.contains(t);while(t=t.parentNode){if(t.nodeType==11)t=t.host;if(t==e)return true}};function ua(){return document.activeElement}if(i&&n<11)ua=function(){try{return document.activeElement}catch(e){return document.body}};function fa(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var ca=k.rmClass=function(e,t){var r=e.className;var i=fa(t).exec(r);if(i){var n=r.slice(i.index+i[0].length);e.className=r.slice(0,i.index)+(n?i[1]+n:"")}};var da=k.addClass=function(e,t){var r=e.className;if(!fa(t).test(r))e.className+=(r?" ":"")+t};function ha(e,t){var r=e.split(" ");for(var i=0;i<r.length;i++)if(r[i]&&!fa(r[i]).test(t))t+=" "+r[i];return t}function pa(e){if(!document.body.getElementsByClassName)return;var t=document.body.getElementsByClassName("CodeMirror");for(var r=0;r<t.length;r++){var i=t[r].CodeMirror;if(i)e(i)}}var va=false;function ma(){if(va)return;ga();va=true}function ga(){var e;Lo(window,"resize",function(){if(e==null)e=setTimeout(function(){e=null;pa(ur)},100)});Lo(window,"blur",function(){pa(Rr)})}var ya=function(){if(i&&n<9)return false;var e=na("div");return"draggable"in e||"dragDrop"in e}();var ba;function wa(e){if(ba==null){var t=na("span","​");la(e,na("span",[t,document.createTextNode("x")]));if(e.firstChild.offsetHeight!=0)ba=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&n<8)}if(ba)return na("span","​");else return na("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}var xa;function ka(e){if(xa!=null)return xa;var t=la(e,document.createTextNode("AخA"));var r=oa(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return false;var i=oa(t,1,2).getBoundingClientRect();return xa=i.right-r.right<3}var Ca=k.splitLines="\n\nb".split(/\n/).length!=3?function(e){var t=0,r=[],i=e.length;while(t<=i){var n=e.indexOf("\n",t);if(n==-1)n=e.length;var o=e.slice(t,e.charAt(n-1)=="\r"?n-1:n);var a=o.indexOf("\r");if(a!=-1){r.push(o.slice(0,a));t+=a+1}else{r.push(o);t=n+1}}return r}:function(e){return e.split(/\r\n?|\n/)};var Sa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return false}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}if(!t||t.parentElement()!=e)return false;return t.compareEndPoints("StartToEnd",t)!=0};var La=function(){var e=na("div");if("oncopy"in e)return true;e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}();var Ma=null;function Ta(e){if(Ma!=null)return Ma;var t=la(e,na("span","x"));var r=t.getBoundingClientRect();var i=oa(t,0,1).getBoundingClientRect();return Ma=Math.abs(r.left-i.left)>1}var Aa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};k.keyNames=Aa;(function(){for(var e=0;e<10;e++)Aa[e+48]=Aa[e+96]=String(e);for(var e=65;e<=90;e++)Aa[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)Aa[e+111]=Aa[e+63235]="F"+e})();function Ea(e,t,r,i){if(!e)return i(t,r,"ltr");var n=false;for(var o=0;o<e.length;++o){var a=e[o];if(a.from<r&&a.to>t||t==r&&a.to==t){i(Math.max(a.from,t),Math.min(a.to,r),a.level==1?"rtl":"ltr");n=true}}if(!n)i(t,r,"ltr")}function Na(e){return e.level%2?e.to:e.from}function Wa(e){return e.level%2?e.from:e.to}function za(e){var t=ro(e);return t?Na(t[0]):0}function Oa(e){var t=ro(e);if(!t)return e.text.length;return Wa(Go(t))}function Ia(e,t){var r=$n(e.doc,t);var i=sn(r);if(i!=r)t=Qn(i);var n=ro(i);var o=!n?0:n[0].level%2?Oa(i):za(i);return ve(t,o)}function Ha(e,t){var r,i=$n(e.doc,t);while(r=an(i)){i=r.find(1,true).line;t=null}var n=ro(i);var o=!n?i.text.length:n[0].level%2?za(i):Oa(i);return ve(t==null?Qn(i):t,o)}function Da(e,t){var r=Ia(e,t.line);var i=$n(e.doc,r.line);var n=ro(i);if(!n||n[0].level==0){var o=Math.max(0,i.text.search(/\S/));var a=t.line==r.line&&t.ch<=o&&t.ch;return ve(r.line,a?0:o)}return r}function Pa(e,t,r){var i=e[0].level;if(t==i)return true;if(r==i)return false;return t<r}var Fa;function Ba(e,t){Fa=null;for(var r=0,i;r<e.length;++r){var n=e[r];if(n.from<t&&n.to>t)return r;if(n.from==t||n.to==t){if(i==null){i=r}else if(Pa(e,n.level,e[i].level)){if(n.from!=n.to)Fa=i;return r}else{if(n.from!=n.to)Fa=r;return i}}}return i}function ja(e,t,r,i){if(!i)return t+r;do t+=r;while(t>0&&ia(e.text.charAt(t)));return t}function Ra(e,t,r,i){var n=ro(e);if(!n)return Ua(e,t,r,i);var o=Ba(n,t),a=n[o];var l=ja(e,t,a.level%2?-r:r,i);for(;;){if(l>a.from&&l<a.to)return l;if(l==a.from||l==a.to){if(Ba(n,l)==o)return l;a=n[o+=r];return r>0==a.level%2?a.to:a.from}else{a=n[o+=r];if(!a)return null;if(r>0==a.level%2)l=ja(e,a.to,-1,i);else l=ja(e,a.from,1,i)}}}function Ua(e,t,r,i){var n=t+r;if(i)while(n>0&&ia(e.text.charAt(n)))n+=r;return n<0||n>e.text.length?null:n}var Va=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function r(r){if(r<=247)return e.charAt(r);else if(1424<=r&&r<=1524)return"R";else if(1536<=r&&r<=1773)return t.charAt(r-1536);else if(1774<=r&&r<=2220)return"r";else if(8192<=r&&r<=8203)return"w";else if(r==8204)return"b";else return"L"}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var n=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;var s="L";function u(e,t,r){this.level=e;this.from=t;this.to=r}return function(e){if(!i.test(e))return false;var t=e.length,f=[];for(var c=0,d;c<t;++c)f.push(d=r(e.charCodeAt(c)));for(var c=0,h=s;c<t;++c){var d=f[c];if(d=="m")f[c]=h;else h=d}for(var c=0,p=s;c<t;++c){var d=f[c];if(d=="1"&&p=="r")f[c]="n";else if(o.test(d)){p=d;if(d=="r")f[c]="R"}}for(var c=1,h=f[0];c<t-1;++c){var d=f[c];if(d=="+"&&h=="1"&&f[c+1]=="1")f[c]="1";else if(d==","&&h==f[c+1]&&(h=="1"||h=="n"))f[c]=h;h=d}for(var c=0;c<t;++c){var d=f[c];if(d==",")f[c]="N";else if(d=="%"){for(var v=c+1;v<t&&f[v]=="%";++v){}var m=c&&f[c-1]=="!"||v<t&&f[v]=="1"?"1":"N";for(var g=c;g<v;++g)f[g]=m;c=v-1}}for(var c=0,p=s;c<t;++c){var d=f[c];if(p=="L"&&d=="1")f[c]="L";else if(o.test(d))p=d}for(var c=0;c<t;++c){if(n.test(f[c])){for(var v=c+1;v<t&&n.test(f[v]);++v){}var y=(c?f[c-1]:s)=="L";var b=(v<t?f[v]:s)=="L";var m=y||b?"L":"R";for(var g=c;g<v;++g)f[g]=m;c=v-1}}var w=[],x;for(var c=0;c<t;){if(a.test(f[c])){var k=c;for(++c;c<t&&a.test(f[c]);++c){}w.push(new u(0,k,c))}else{var C=c,S=w.length;for(++c;c<t&&f[c]!="L";++c){}for(var g=C;g<c;){if(l.test(f[g])){if(C<g)w.splice(S,0,new u(1,C,g));var L=g;for(++g;g<c&&l.test(f[g]);++g){}w.splice(S,0,new u(2,L,g));C=g}else++g}if(C<c)w.splice(S,0,new u(1,C,c))}}if(w[0].level==1&&(x=e.match(/^\s+/))){w[0].from=x[0].length;w.unshift(new u(0,0,x[0].length))}if(Go(w).level==1&&(x=e.match(/\s+$/))){Go(w).to-=x[0].length;w.push(new u(0,t-x[0].length,t))}if(w[0].level!=Go(w).level)w.push(new u(w[0].level,t,t));return w}}();k.version="4.13.0";return k});(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("javascript",function(t,r){var i=t.indentUnit;var n=r.statementIndent;var o=r.jsonld;var a=r.json||o;var l=r.typescript;var s=r.wordCharacters||/[\w$\xa1-\uffff]/;var u=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),i=e("keyword c");var n=e("operator"),o={type:"atom",style:"atom"};var a={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":n,"typeof":n,"instanceof":n,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i};if(l){var s={type:"variable",style:"variable-3"};var u={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var f in u){a[f]=u[f]}}return a}();var f=/[+\-*&%=<>!?|~^]/;var c=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function d(e){var t=false,r,i=false;while((r=e.next())!=null){if(!t){if(r=="/"&&!i)return;if(r=="[")i=true;else if(i&&r=="]")i=false}t=!t&&r=="\\"}}var h,p;function v(e,t,r){h=e;p=r;return t}function m(e,t){var r=e.next();if(r=='"'||r=="'"){t.tokenize=g(r);return t.tokenize(e,t)}else if(r=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)){return v("number","number")}else if(r=="."&&e.match("..")){return v("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(r)){return v(r)}else if(r=="="&&e.eat(">")){return v("=>","operator")}else if(r=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return v("number","number")}else if(/\d/.test(r)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return v("number","number")}else if(r=="/"){if(e.eat("*")){t.tokenize=y;return y(e,t)}else if(e.eat("/")){e.skipToEnd();return v("comment","comment")}else if(t.lastType=="operator"||t.lastType=="keyword c"||t.lastType=="sof"||/^[\[{}\(,;:]$/.test(t.lastType)){d(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return v("regexp","string-2")}else{e.eatWhile(f);return v("operator","operator",e.current())}}else if(r=="`"){t.tokenize=b;return b(e,t)}else if(r=="#"){e.skipToEnd();return v("error","error")}else if(f.test(r)){e.eatWhile(f);return v("operator","operator",e.current())}else if(s.test(r)){e.eatWhile(s);var i=e.current(),n=u.propertyIsEnumerable(i)&&u[i];return n&&t.lastType!="."?v(n.type,n.style,i):v("variable","variable",i)}}function g(e){return function(t,r){var i=false,n;if(o&&t.peek()=="@"&&t.match(c)){r.tokenize=m;return v("jsonld-keyword","meta")}while((n=t.next())!=null){if(n==e&&!i)break;i=!i&&n=="\\"}if(!i)r.tokenize=m;return v("string","string")}}function y(e,t){var r=false,i;while(i=e.next()){if(i=="/"&&r){t.tokenize=m;break}r=i=="*"}return v("comment","comment")}function b(e,t){var r=false,i;while((i=e.next())!=null){if(!r&&(i=="`"||i=="$"&&e.eat("{"))){t.tokenize=m;break}r=!r&&i=="\\"}return v("quasi","string-2",e.current())}var w="([{}])";function x(e,t){if(t.fatArrowAt)t.fatArrowAt=null;var r=e.string.indexOf("=>",e.start);if(r<0)return;var i=0,n=false;for(var o=r-1;o>=0;--o){var a=e.string.charAt(o);var l=w.indexOf(a);if(l>=0&&l<3){if(!i){++o;break}if(--i==0)break}else if(l>=3&&l<6){++i}else if(s.test(a)){n=true}else if(/["'\/]/.test(a)){return}else if(n&&!i){++o;break}}if(n&&!i)t.fatArrowAt=o}var k={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function C(e,t,r,i,n,o){this.indented=e;this.column=t;this.type=r;this.prev=n;this.info=o;if(i!=null)this.align=i}function S(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return true;for(var i=e.context;i;i=i.prev){for(var r=i.vars;r;r=r.next)if(r.name==t)return true}}function L(e,t,r,i,n){var o=e.cc;M.state=e;M.stream=n;M.marked=null,M.cc=o;M.style=t;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var l=o.length?o.pop():a?P:D;if(l(r,i)){while(o.length&&o[o.length-1].lex)o.pop()();if(M.marked)return M.marked;if(r=="variable"&&S(e,i))return"variable-2";return t}}}var M={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)M.cc.push(arguments[e])}function A(){T.apply(null,arguments);return true}function E(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return true;return false}var i=M.state;if(i.context){M.marked="def";if(t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;if(r.globalVars)i.globalVars={name:e,next:i.globalVars}}}var N={name:"this",next:{name:"arguments"}};function W(){M.state.context={prev:M.state.context,vars:M.state.localVars};M.state.localVars=N}function z(){M.state.localVars=M.state.context.vars;M.state.context=M.state.context.prev}function O(e,t){var r=function(){var r=M.state,i=r.indented;if(r.lexical.type=="stat")i=r.lexical.indented;else for(var n=r.lexical;n&&n.type==")"&&n.align;n=n.prev)i=n.indented;r.lexical=new C(i,M.stream.column(),e,null,r.lexical,t)};r.lex=true;return r}function I(){var e=M.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}I.lex=true;function H(e){function t(r){if(r==e)return A();else if(e==";")return T();else return A(t)}return t}function D(e,t){if(e=="var")return A(O("vardef",t.length),ne,H(";"),I);if(e=="keyword a")return A(O("form"),P,D,I);if(e=="keyword b")return A(O("form"),D,I);if(e=="{")return A(O("}"),te,I);if(e==";")return A();if(e=="if"){if(M.state.lexical.info=="else"&&M.state.cc[M.state.cc.length-1]==I)M.state.cc.pop()();return A(O("form"),P,D,I,ue)}if(e=="function")return A(ve);if(e=="for")return A(O("form"),fe,D,I);if(e=="variable")return A(O("stat"),X);if(e=="switch")return A(O("form"),P,O("}","switch"),H("{"),te,I,I);if(e=="case")return A(P,H(":"));if(e=="default")return A(H(":"));if(e=="catch")return A(O("form"),W,H("("),me,H(")"),D,I,z);if(e=="module")return A(O("form"),W,xe,z,I);if(e=="class")return A(O("form"),ge,I);if(e=="export")return A(O("form"),ke,I);if(e=="import")return A(O("form"),Ce,I);return T(O("stat"),P,H(";"),I)}function P(e){return B(e,false)}function F(e){return B(e,true)}function B(e,t){if(M.state.fatArrowAt==M.stream.start){var r=t?_:K;if(e=="(")return A(W,O(")"),Q(oe,")"),I,H("=>"),r,z);else if(e=="variable")return T(W,oe,H("=>"),r,z)}var i=t?V:U;if(k.hasOwnProperty(e))return A(i);if(e=="function")return A(ve,i);if(e=="keyword c")return A(t?R:j);if(e=="(")return A(O(")"),j,Ae,H(")"),I,i);if(e=="operator"||e=="spread")return A(t?F:P);if(e=="[")return A(O("]"),Me,I,i);if(e=="{")return ee(Y,"}",null,i);if(e=="quasi"){return T(q,i)}return A()}function j(e){if(e.match(/[;\}\)\],]/))return T();return T(P)}function R(e){if(e.match(/[;\}\)\],]/))return T();return T(F)}function U(e,t){if(e==",")return A(P);return V(e,t,false)}function V(e,t,r){var i=r==false?U:V;var n=r==false?P:F;if(e=="=>")return A(W,r?_:K,z);if(e=="operator"){if(/\+\+|--/.test(t))return A(i);if(t=="?")return A(P,H(":"),n);return A(n)}if(e=="quasi"){return T(q,i)}if(e==";")return;if(e=="(")return ee(F,")","call",i);if(e==".")return A($,i);if(e=="[")return A(O("]"),j,H("]"),I,i)}function q(e,t){if(e!="quasi")return T();if(t.slice(t.length-2)!="${")return A(q);return A(P,G)}function G(e){if(e=="}"){M.marked="string-2";M.state.tokenize=b;return A(q)}}function K(e){x(M.stream,M.state);return T(e=="{"?D:P)}function _(e){x(M.stream,M.state);return T(e=="{"?D:F)}function X(e){if(e==":")return A(I,D);return T(U,H(";"),I)}function $(e){if(e=="variable"){M.marked="property";return A()}}function Y(e,t){if(e=="variable"||M.style=="keyword"){M.marked="property";if(t=="get"||t=="set")return A(Z);return A(J)}else if(e=="number"||e=="string"){M.marked=o?"property":M.style+" property";return A(J)}else if(e=="jsonld-keyword"){return A(J)}else if(e=="["){return A(P,H("]"),J)}}function Z(e){if(e!="variable")return T(J);M.marked="property";return A(ve)}function J(e){if(e==":")return A(F);if(e=="(")return T(ve)}function Q(e,t){function r(i){if(i==","){var n=M.state.lexical;if(n.info=="call")n.pos=(n.pos||0)+1;return A(e,r)}if(i==t)return A();return A(H(t))}return function(i){if(i==t)return A();return T(e,r)}}function ee(e,t,r){for(var i=3;i<arguments.length;i++)M.cc.push(arguments[i]);return A(O(t,r),Q(e,t),I)}function te(e){if(e=="}")return A();return T(D,te)}function re(e){if(l&&e==":")return A(ie)}function ie(e){if(e=="variable"){M.marked="variable-3";return A()}}function ne(){return T(oe,re,le,se)}function oe(e,t){if(e=="variable"){E(t);return A()}if(e=="[")return ee(oe,"]");if(e=="{")return ee(ae,"}")}function ae(e,t){if(e=="variable"&&!M.stream.match(/^\s*:/,false)){E(t);return A(le)}if(e=="variable")M.marked="property";return A(H(":"),oe,le)}function le(e,t){if(t=="=")return A(F)}function se(e){if(e==",")return A(ne)}function ue(e,t){if(e=="keyword b"&&t=="else")return A(O("form","else"),D,I)}function fe(e){if(e=="(")return A(O(")"),ce,H(")"),I)}function ce(e){if(e=="var")return A(ne,H(";"),he);if(e==";")return A(he);if(e=="variable")return A(de);return T(P,H(";"),he)}function de(e,t){if(t=="in"||t=="of"){M.marked="keyword";return A(P)}return A(U,he)}function he(e,t){if(e==";")return A(pe);if(t=="in"||t=="of"){M.marked="keyword";return A(P)}return T(P,H(";"),pe)}function pe(e){if(e!=")")A(P)}function ve(e,t){if(t=="*"){M.marked="keyword";return A(ve)}if(e=="variable"){E(t);return A(ve)}if(e=="(")return A(W,O(")"),Q(me,")"),I,D,z)}function me(e){if(e=="spread")return A(me);return T(oe,re)}function ge(e,t){if(e=="variable"){E(t);return A(ye)}}function ye(e,t){if(t=="extends")return A(P,ye);if(e=="{")return A(O("}"),be,I)}function be(e,t){if(e=="variable"||M.style=="keyword"){M.marked="property";if(t=="get"||t=="set")return A(we,ve,be);return A(ve,be)}if(t=="*"){M.marked="keyword";return A(be)}if(e==";")return A(be);if(e=="}")return A()}function we(e){if(e!="variable")return T();M.marked="property";return A()}function xe(e,t){if(e=="string")return A(D);if(e=="variable"){E(t);return A(Le)}}function ke(e,t){if(t=="*"){M.marked="keyword";return A(Le,H(";"))}if(t=="default"){M.marked="keyword";return A(P,H(";"))}return T(D)}function Ce(e){if(e=="string")return A();return T(Se,Le)}function Se(e,t){if(e=="{")return ee(Se,"}");if(e=="variable")E(t);return A()}function Le(e,t){if(t=="from"){M.marked="keyword";return A(P)}}function Me(e){if(e=="]")return A();return T(F,Te)}function Te(e){if(e=="for")return T(Ae,H("]"));if(e==",")return A(Q(R,"]"));return T(Q(F,"]"))}function Ae(e){if(e=="for")return A(fe,Ae);if(e=="if")return A(P,Ae)}function Ee(e,t){return e.lastType=="operator"||e.lastType==","||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}return{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new C((e||0)-i,0,"block",false),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};if(r.globalVars&&typeof r.globalVars=="object")t.globalVars=r.globalVars;return t},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation();x(e,t)}if(t.tokenize!=y&&e.eatSpace())return null;var r=t.tokenize(e,t);if(h=="comment")return r;t.lastType=h=="operator"&&(p=="++"||p=="--")?"incdec":h;return L(t,r,h,p,e)},indent:function(t,o){if(t.tokenize==y)return e.Pass;if(t.tokenize!=m)return 0;var a=o&&o.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(o))for(var s=t.cc.length-1;s>=0;--s){var u=t.cc[s];if(u==I)l=l.prev;else if(u!=ue)break}if(l.type=="stat"&&a=="}")l=l.prev;if(n&&l.type==")"&&l.prev.type=="stat")l=l.prev;var f=l.type,c=a==f;if(f=="vardef")return l.indented+(t.lastType=="operator"||t.lastType==","?l.info+1:0);else if(f=="form"&&a=="{")return l.indented;else if(f=="form")return l.indented+i;else if(f=="stat")return l.indented+(Ee(t,o)?n||i:0);else if(l.info=="switch"&&!c&&r.doubleIndentSwitch!=false)return l.indented+(/^(?:case|default)\b/.test(o)?i:2*i);else if(l.align)return l.column+(c?0:1);else return l.indented+(c?0:i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",lineComment:a?null:"//",fold:"brace",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:true});e.defineMIME("application/x-json",{name:"javascript",json:true});e.defineMIME("application/ld+json",{name:"javascript",jsonld:true});e.defineMIME("text/typescript",{name:"javascript",typescript:true});e.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("css",function(t,r){if(!r.propertyKeywords)r=e.resolveMode("text/css");var i=t.indentUnit,n=r.tokenHooks,o=r.documentTypes||{},a=r.mediaTypes||{},l=r.mediaFeatures||{},s=r.propertyKeywords||{},u=r.nonStandardPropertyKeywords||{},f=r.fontProperties||{},c=r.counterDescriptors||{},d=r.colorKeywords||{},h=r.valueKeywords||{},p=r.allowNested;var v,m;function g(e,t){v=t;return e}function y(e,t){var r=e.next();if(n[r]){var i=n[r](e,t);if(i!==false)return i}if(r=="@"){e.eatWhile(/[\w\\\-]/);return g("def",e.current())}else if(r=="="||(r=="~"||r=="|")&&e.eat("=")){return g(null,"compare")}else if(r=='"'||r=="'"){t.tokenize=b(r);return t.tokenize(e,t)}else if(r=="#"){e.eatWhile(/[\w\\\-]/);return g("atom","hash")}else if(r=="!"){e.match(/^\s*\w*/);return g("keyword","important")}else if(/\d/.test(r)||r=="."&&e.eat(/\d/)){e.eatWhile(/[\w.%]/);return g("number","unit")}else if(r==="-"){if(/[\d.]/.test(e.peek())){e.eatWhile(/[\w.%]/);return g("number","unit")}else if(e.match(/^-[\w\\\-]+/)){e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return g("variable-2","variable-definition");return g("variable-2","variable")}else if(e.match(/^\w+-/)){return g("meta","meta")}}else if(/[,+>*\/]/.test(r)){return g(null,"select-op")}else if(r=="."&&e.match(/^-?[_a-z][_a-z0-9-]*/i)){return g("qualifier","qualifier")}else if(/[:;{}\[\]\(\)]/.test(r)){return g(null,r)}else if(r=="u"&&e.match(/rl(-prefix)?\(/)||r=="d"&&e.match("omain(")||r=="r"&&e.match("egexp(")){e.backUp(1);t.tokenize=w;return g("property","word")}else if(/[\w\\\-]/.test(r)){e.eatWhile(/[\w\\\-]/);return g("property","word")}else{return g(null,null)}}function b(e){return function(t,r){var i=false,n;while((n=t.next())!=null){if(n==e&&!i){if(e==")")t.backUp(1);break}i=!i&&n=="\\"}if(n==e||!i&&e!=")")r.tokenize=null;return g("string","string")}}function w(e,t){e.next();if(!e.match(/\s*[\"\')]/,false))t.tokenize=b(")");else t.tokenize=null;return g(null,"(")}function x(e,t,r){this.type=e;this.indent=t;this.prev=r}function k(e,t,r){e.context=new x(r,t.indentation()+i,e.context);return r}function C(e){e.context=e.context.prev;return e.context.type}function S(e,t,r){return T[r.context.type](e,t,r)}function L(e,t,r,i){for(var n=i||1;n>0;n--)r.context=r.context.prev;return S(e,t,r)}function M(e){var t=e.current().toLowerCase();if(h.hasOwnProperty(t))m="atom";else if(d.hasOwnProperty(t))m="keyword";else m="variable"}var T={};T.top=function(e,t,r){if(e=="{"){return k(r,t,"block")}else if(e=="}"&&r.context.prev){return C(r)}else if(/@(media|supports|(-moz-)?document)/.test(e)){return k(r,t,"atBlock")}else if(/@(font-face|counter-style)/.test(e)){r.stateArg=e;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e)){return"keyframes"}else if(e&&e.charAt(0)=="@"){return k(r,t,"at")}else if(e=="hash"){m="builtin"}else if(e=="word"){m="tag"}else if(e=="variable-definition"){return"maybeprop"}else if(e=="interpolation"){return k(r,t,"interpolation")}else if(e==":"){return"pseudo"}else if(p&&e=="("){return k(r,t,"parens")}return r.context.type};T.block=function(e,t,r){
if(e=="word"){var i=t.current().toLowerCase();if(s.hasOwnProperty(i)){m="property";return"maybeprop"}else if(u.hasOwnProperty(i)){m="string-2";return"maybeprop"}else if(p){m=t.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{m+=" error";return"maybeprop"}}else if(e=="meta"){return"block"}else if(!p&&(e=="hash"||e=="qualifier")){m="error";return"block"}else{return T.top(e,t,r)}};T.maybeprop=function(e,t,r){if(e==":")return k(r,t,"prop");return S(e,t,r)};T.prop=function(e,t,r){if(e==";")return C(r);if(e=="{"&&p)return k(r,t,"propBlock");if(e=="}"||e=="{")return L(e,t,r);if(e=="(")return k(r,t,"parens");if(e=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){m+=" error"}else if(e=="word"){M(t)}else if(e=="interpolation"){return k(r,t,"interpolation")}return"prop"};T.propBlock=function(e,t,r){if(e=="}")return C(r);if(e=="word"){m="property";return"maybeprop"}return r.context.type};T.parens=function(e,t,r){if(e=="{"||e=="}")return L(e,t,r);if(e==")")return C(r);if(e=="(")return k(r,t,"parens");if(e=="word")M(t);return"parens"};T.pseudo=function(e,t,r){if(e=="word"){m="variable-3";return r.context.type}return S(e,t,r)};T.atBlock=function(e,t,r){if(e=="(")return k(r,t,"atBlock_parens");if(e=="}")return L(e,t,r);if(e=="{")return C(r)&&k(r,t,p?"block":"top");if(e=="word"){var i=t.current().toLowerCase();if(i=="only"||i=="not"||i=="and"||i=="or")m="keyword";else if(o.hasOwnProperty(i))m="tag";else if(a.hasOwnProperty(i))m="attribute";else if(l.hasOwnProperty(i))m="property";else if(s.hasOwnProperty(i))m="property";else if(u.hasOwnProperty(i))m="string-2";else if(h.hasOwnProperty(i))m="atom";else m="error"}return r.context.type};T.atBlock_parens=function(e,t,r){if(e==")")return C(r);if(e=="{"||e=="}")return L(e,t,r,2);return T.atBlock(e,t,r)};T.restricted_atBlock_before=function(e,t,r){if(e=="{")return k(r,t,"restricted_atBlock");if(e=="word"&&r.stateArg=="@counter-style"){m="variable";return"restricted_atBlock_before"}return S(e,t,r)};T.restricted_atBlock=function(e,t,r){if(e=="}"){r.stateArg=null;return C(r)}if(e=="word"){if(r.stateArg=="@font-face"&&!f.hasOwnProperty(t.current().toLowerCase())||r.stateArg=="@counter-style"&&!c.hasOwnProperty(t.current().toLowerCase()))m="error";else m="property";return"maybeprop"}return"restricted_atBlock"};T.keyframes=function(e,t,r){if(e=="word"){m="variable";return"keyframes"}if(e=="{")return k(r,t,"top");return S(e,t,r)};T.at=function(e,t,r){if(e==";")return C(r);if(e=="{"||e=="}")return L(e,t,r);if(e=="word")m="tag";else if(e=="hash")m="builtin";return"at"};T.interpolation=function(e,t,r){if(e=="}")return C(r);if(e=="{"||e==";")return L(e,t,r);if(e!="variable")m="error";return"interpolation"};return{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new x("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||y)(e,t);if(r&&typeof r=="object"){v=r[1];r=r[0]}m=r;t.state=T[t.state](v,e,t);return m},indent:function(e,t){var r=e.context,n=t&&t.charAt(0);var o=r.indent;if(r.type=="prop"&&(n=="}"||n==")"))r=r.prev;if(r.prev&&(n=="}"&&(r.type=="block"||r.type=="top"||r.type=="interpolation"||r.type=="restricted_atBlock")||n==")"&&(r.type=="parens"||r.type=="atBlock_parens")||n=="{"&&(r.type=="at"||r.type=="atBlock"))){o=r.indent-i;r=r.prev}return o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});function t(e){var t={};for(var r=0;r<e.length;++r){t[e[r]]=true}return t}var r=["domain","regexp","url","url-prefix"],i=t(r);var n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(n);var a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=t(a);var s=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(s);var f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=t(f);var d=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],h=t(d);var p=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(p);var m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],g=t(m);var y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],b=t(y);var w=r.concat(n).concat(a).concat(s).concat(f).concat(m).concat(y);e.registerHelper("hintWords","css",w);function x(e,t){var r=false,i;while((i=e.next())!=null){if(r&&i=="/"){t.tokenize=null;break}r=i=="*"}return["comment","comment"]}function k(e,t){if(e.skipTo("-->")){e.match("-->");t.tokenize=null}else{e.skipToEnd()}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:i,mediaTypes:o,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:c,fontProperties:h,counterDescriptors:v,colorKeywords:g,valueKeywords:b,tokenHooks:{"<":function(e,t){if(!e.match("!--"))return false;t.tokenize=k;return k(e,t)},"/":function(e,t){if(!e.eat("*"))return false;t.tokenize=x;return x(e,t)}},name:"css"});e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:c,colorKeywords:g,valueKeywords:b,fontProperties:h,allowNested:true,tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=x;return x(e,t)}else{return["operator","operator"]}},":":function(e){if(e.match(/\s*\{/))return[null,"{"];return false},$:function(e){e.match(/^[\w-]+/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(e){if(!e.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"});e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:c,colorKeywords:g,valueKeywords:b,fontProperties:h,allowNested:true,tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=x;return x(e,t)}else{return["operator","operator"]}},"@":function(e){if(e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false))return false;e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})});(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("xml",function(t,r){var i=t.indentUnit;var n=r.multilineTagIndentFactor||1;var o=r.multilineTagIndentPastTag;if(o==null)o=true;var a=r.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};var l=r.alignCDATA;var s,u;function f(e,t){function r(r){t.tokenize=r;return r(e,t)}var i=e.next();if(i=="<"){if(e.eat("!")){if(e.eat("[")){if(e.match("CDATA["))return r(h("atom","]]>"));else return null}else if(e.match("--")){return r(h("comment","-->"))}else if(e.match("DOCTYPE",true,true)){e.eatWhile(/[\w\._\-]/);return r(p(1))}else{return null}}else if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=h("meta","?>");return"meta"}else{s=e.eat("/")?"closeTag":"openTag";t.tokenize=c;return"tag bracket"}}else if(i=="&"){var n;if(e.eat("#")){if(e.eat("x")){n=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";")}else{n=e.eatWhile(/[\d]/)&&e.eat(";")}}else{n=e.eatWhile(/[\w\.\-:]/)&&e.eat(";")}return n?"atom":"error"}else{e.eatWhile(/[^&<]/);return null}}function c(e,t){var r=e.next();if(r==">"||r=="/"&&e.eat(">")){t.tokenize=f;s=r==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(r=="="){s="equals";return null}else if(r=="<"){t.tokenize=f;t.state=y;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}else if(/[\'\"]/.test(r)){t.tokenize=d(r);t.stringStartCol=e.column();return t.tokenize(e,t)}else{e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function d(e){var t=function(t,r){while(!t.eol()){if(t.next()==e){r.tokenize=c;break}}return"string"};t.isInAttribute=true;return t}function h(e,t){return function(r,i){while(!r.eol()){if(r.match(t)){i.tokenize=f;break}r.next()}return e}}function p(e){return function(t,r){var i;while((i=t.next())!=null){if(i=="<"){r.tokenize=p(e+1);return r.tokenize(t,r)}else if(i==">"){if(e==1){r.tokenize=f;break}else{r.tokenize=p(e-1);return r.tokenize(t,r)}}}return"meta"}}function v(e,t,r){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=r;if(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)this.noIndent=true}function m(e){if(e.context)e.context=e.context.prev}function g(e,t){var r;while(true){if(!e.context){return}r=e.context.tagName;if(!a.contextGrabbers.hasOwnProperty(r)||!a.contextGrabbers[r].hasOwnProperty(t)){return}m(e)}}function y(e,t,r){if(e=="openTag"){r.tagStart=t.column();return b}else if(e=="closeTag"){return w}else{return y}}function b(e,t,r){if(e=="word"){r.tagName=t.current();u="tag";return C}else{u="error";return b}}function w(e,t,r){if(e=="word"){var i=t.current();if(r.context&&r.context.tagName!=i&&a.implicitlyClosed.hasOwnProperty(r.context.tagName))m(r);if(r.context&&r.context.tagName==i){u="tag";return x}else{u="tag error";return k}}else{u="error";return k}}function x(e,t,r){if(e!="endTag"){u="error";return x}m(r);return y}function k(e,t,r){u="error";return x(e,t,r)}function C(e,t,r){if(e=="word"){u="attribute";return S}else if(e=="endTag"||e=="selfcloseTag"){var i=r.tagName,n=r.tagStart;r.tagName=r.tagStart=null;if(e=="selfcloseTag"||a.autoSelfClosers.hasOwnProperty(i)){g(r,i)}else{g(r,i);r.context=new v(r,i,n==r.indented)}return y}u="error";return C}function S(e,t,r){if(e=="equals")return L;if(!a.allowMissing)u="error";return C(e,t,r)}function L(e,t,r){if(e=="string")return M;if(e=="word"&&a.allowUnquoted){u="string";return C}u="error";return C(e,t,r)}function M(e,t,r){if(e=="string")return M;return C(e,t,r)}return{startState:function(){return{tokenize:f,state:y,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol())t.indented=e.indentation();if(e.eatSpace())return null;s=null;var r=t.tokenize(e,t);if((r||s)&&r!="comment"){u=null;t.state=t.state(s||r,e,t);if(u)r=u=="error"?r+" error":u}return r},indent:function(t,r,s){var u=t.context;if(t.tokenize.isInAttribute){if(t.tagStart==t.indented)return t.stringStartCol+1;else return t.indented+i}if(u&&u.noIndent)return e.Pass;if(t.tokenize!=c&&t.tokenize!=f)return s?s.match(/^(\s*)/)[0].length:0;if(t.tagName){if(o)return t.tagStart+t.tagName.length+2;else return t.tagStart+i*n}if(l&&/<!\[CDATA\[/.test(r))return 0;var d=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(d&&d[1]){while(u){if(u.tagName==d[2]){u=u.prev;break}else if(a.implicitlyClosed.hasOwnProperty(u.tagName)){u=u.prev}else{break}}}else if(d){while(u){var h=a.contextGrabbers[u.tagName];if(h&&h.hasOwnProperty(d[2]))u=u.prev;else break}}while(u&&!u.startOfLine)u=u.prev;if(u)return u.indent+i;else return 0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:r.htmlMode?"html":"xml",helperType:r.htmlMode?"html":"xml"}});e.defineMIME("text/xml","xml");e.defineMIME("application/xml","xml");if(!e.mimeModes.hasOwnProperty("text/html"))e.defineMIME("text/html",{name:"xml",htmlMode:true})});(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("htmlmixed",function(t,r){var i=e.getMode(t,{name:"xml",htmlMode:true,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag});var n=e.getMode(t,"css");var o=[],a=r&&r.scriptTypes;o.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")});if(a)for(var l=0;l<a.length;++l){var s=a[l];o.push({matches:s.matches,mode:s.mode&&e.getMode(t,s.mode)})}o.push({matches:/./,mode:e.getMode(t,"text/plain")});function u(e,t){var r=t.htmlState.tagName;if(r)r=r.toLowerCase();var a=i.token(e,t.htmlState);if(r=="script"&&/\btag\b/.test(a)&&e.current()==">"){var l=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);l=l?l[1]:"";if(l&&/[\"\']/.test(l.charAt(0)))l=l.slice(1,l.length-1);for(var s=0;s<o.length;++s){var u=o[s];if(typeof u.matches=="string"?l==u.matches:u.matches.test(l)){if(u.mode){t.token=c;t.localMode=u.mode;t.localState=u.mode.startState&&u.mode.startState(i.indent(t.htmlState,""))}break}}}else if(r=="style"&&/\btag\b/.test(a)&&e.current()==">"){t.token=d;t.localMode=n;t.localState=n.startState(i.indent(t.htmlState,""))}return a}function f(e,t,r){var i=e.current();var n=i.search(t),o;if(n>-1)e.backUp(i.length-n);else if(o=i.match(/<\/?$/)){e.backUp(i.length);if(!e.match(t,false))e.match(i)}return r}function c(e,t){if(e.match(/^<\/\s*script\s*>/i,false)){t.token=u;t.localState=t.localMode=null;return null}return f(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function d(e,t){if(e.match(/^<\/\s*style\s*>/i,false)){t.token=u;t.localState=t.localMode=null;return null}return f(e,/<\/\s*style\s*>/,n.token(e,t.localState))}return{startState:function(){var e=i.startState();return{token:u,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var r=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:r,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,r){if(!t.localMode||/^\s*<\//.test(r))return i.indent(t.htmlState,r);else if(t.localMode.indent)return t.localMode.indent(t.localState,r);else return e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}},"xml","javascript","css");e.defineMIME("text/html","htmlmixed")});(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var r=e.Pos;var i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function n(e,t,n,a){var l=e.getLineHandle(t.line),s=t.ch-1;var u=s>=0&&i[l.text.charAt(s)]||i[l.text.charAt(++s)];if(!u)return null;var f=u.charAt(1)==">"?1:-1;if(n&&f>0!=(s==t.ch))return null;var c=e.getTokenTypeAt(r(t.line,s+1));var d=o(e,r(t.line,s+(f>0?1:0)),f,c||null,a);if(d==null)return null;return{from:r(t.line,s),to:d&&d.pos,match:d&&d.ch==u.charAt(0),forward:f>0}}function o(e,t,n,o,a){var l=a&&a.maxScanLineLength||1e4;var s=a&&a.maxScanLines||1e3;var u=[];var f=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/;var c=n>0?Math.min(t.line+s,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-s);for(var d=t.line;d!=c;d+=n){var h=e.getLine(d);if(!h)continue;var p=n>0?0:h.length-1,v=n>0?h.length:-1;if(h.length>l)continue;if(d==t.line)p=t.ch-(n<0?1:0);for(;p!=v;p+=n){var m=h.charAt(p);if(f.test(m)&&(o===undefined||e.getTokenTypeAt(r(d,p+1))==o)){var g=i[m];if(g.charAt(1)==">"==n>0)u.push(m);else if(!u.length)return{pos:r(d,p),ch:m};else u.pop()}}}return d-n==(n>0?e.lastLine():e.firstLine())?false:null}function a(e,i,o){var a=e.state.matchBrackets.maxHighlightLineLength||1e3;var l=[],s=e.listSelections();for(var u=0;u<s.length;u++){var f=s[u].empty()&&n(e,s[u].head,false,o);if(f&&e.getLine(f.from.line).length<=a){var c=f.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(e.markText(f.from,r(f.from.line,f.from.ch+1),{className:c}));if(f.to&&e.getLine(f.to.line).length<=a)l.push(e.markText(f.to,r(f.to.line,f.to.ch+1),{className:c}))}}if(l.length){if(t&&e.state.focused)e.display.input.focus();var d=function(){e.operation(function(){for(var e=0;e<l.length;e++)l[e].clear()})};if(i)setTimeout(d,800);else return d}}var l=null;function s(e){e.operation(function(){if(l){l();l=null}l=a(e,false,e.state.matchBrackets)})}e.defineOption("matchBrackets",false,function(t,r,i){if(i&&i!=e.Init)t.off("cursorActivity",s);if(r){t.state.matchBrackets=typeof r=="object"?r:{};t.on("cursorActivity",s)}});e.defineExtension("matchBrackets",function(){a(this,true)});e.defineExtension("findMatchingBracket",function(e,t,r){return n(this,e,t,r)});e.defineExtension("scanForBracket",function(e,t,r,i){return o(this,e,t,r,i)})});(function(e){if(typeof exports=="object"&&typeof module=="object")return e(exports);if(typeof define=="function"&&define.amd)return define(["exports"],e);e(this.acorn||(this.acorn={}))})(function(e){"use strict";e.version="0.3.1";var t,r,i,n;
e.parse=function(e,n){r=String(e);i=r.length;a(n);Ge();return Nt(t.program)};var o=e.defaultOptions={ecmaVersion:5,strictSemicolons:false,allowTrailingCommas:true,forbidReserved:false,locations:false,onComment:null,ranges:false,program:null,sourceFile:null};function a(e){t=e||{};for(var r in o)if(!Object.prototype.hasOwnProperty.call(t,r))t[r]=o[r];n=t.sourceFile||null}var l=e.getLineInfo=function(e,t){for(var r=1,i=0;;){Re.lastIndex=i;var n=Re.exec(e);if(n&&n.index<t){++r;i=n.index+n[0].length}else break}return{line:r,column:t-i}};e.tokenize=function(e,n){r=String(e);i=r.length;a(n);Ge();var o={};function l(e){ot(e);o.start=u;o.end=f;o.startLoc=c;o.endLoc=d;o.type=h;o.value=p;return o}l.jumpTo=function(e,i){s=e;if(t.locations){m=g=Re.lastIndex=0;var n;while((n=Re.exec(r))&&n.index<e){++m;g=n.index+n[0].length}}var o=r.charAt(e-1);v=i;$e()};return l};var s;var u,f;var c,d;var h,p;var v;var m,g;var y,b,w;var x,k,C;function S(e,t){var i=l(r,e);t+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(t);n.pos=e;n.loc=i;n.raisedAt=s;throw n}var L={type:"num"},M={type:"regexp"},T={type:"string"};var A={type:"name"},E={type:"eof"};var N={keyword:"break"},W={keyword:"case",beforeExpr:true},z={keyword:"catch"};var O={keyword:"continue"},I={keyword:"debugger"},H={keyword:"default"};var D={keyword:"do",isLoop:true},P={keyword:"else",beforeExpr:true};var F={keyword:"finally"},B={keyword:"for",isLoop:true},j={keyword:"function"};var R={keyword:"if"},U={keyword:"return",beforeExpr:true},V={keyword:"switch"};var q={keyword:"throw",beforeExpr:true},G={keyword:"try"},K={keyword:"var"};var _={keyword:"while",isLoop:true},X={keyword:"with"},$={keyword:"new",beforeExpr:true};var Y={keyword:"this"};var Z={keyword:"null",atomValue:null},J={keyword:"true",atomValue:true};var Q={keyword:"false",atomValue:false};var ee={keyword:"in",binop:7,beforeExpr:true};var te={"break":N,"case":W,"catch":z,"continue":O,"debugger":I,"default":H,"do":D,"else":P,"finally":F,"for":B,"function":j,"if":R,"return":U,"switch":V,"throw":q,"try":G,"var":K,"while":_,"with":X,"null":Z,"true":J,"false":Q,"new":$,"in":ee,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:true},"this":Y,"typeof":{keyword:"typeof",prefix:true,beforeExpr:true},"void":{keyword:"void",prefix:true,beforeExpr:true},"delete":{keyword:"delete",prefix:true,beforeExpr:true}};var re={type:"[",beforeExpr:true},ie={type:"]"},ne={type:"{",beforeExpr:true};var oe={type:"}"},ae={type:"(",beforeExpr:true},le={type:")"};var se={type:",",beforeExpr:true},ue={type:";",beforeExpr:true};var fe={type:":",beforeExpr:true},ce={type:"."},de={type:"?",beforeExpr:true};var he={binop:10,beforeExpr:true},pe={isAssign:true,beforeExpr:true};var ve={isAssign:true,beforeExpr:true},me={binop:9,prefix:true,beforeExpr:true};var ge={postfix:true,prefix:true,isUpdate:true},ye={prefix:true,beforeExpr:true};var be={binop:1,beforeExpr:true},we={binop:2,beforeExpr:true};var xe={binop:3,beforeExpr:true},ke={binop:4,beforeExpr:true};var Ce={binop:5,beforeExpr:true},Se={binop:6,beforeExpr:true};var Le={binop:7,beforeExpr:true},Me={binop:8,beforeExpr:true};var Te={binop:10,beforeExpr:true};e.tokTypes={bracketL:re,bracketR:ie,braceL:ne,braceR:oe,parenL:ae,parenR:le,comma:se,semi:ue,colon:fe,dot:ce,question:de,slash:he,eq:pe,name:A,eof:E,num:L,regexp:M,string:T};for(var Ae in te)e.tokTypes["_"+Ae]=te[Ae];function Ee(e){e=e.split(" ");var t="",r=[];e:for(var i=0;i<e.length;++i){for(var n=0;n<r.length;++n)if(r[n][0].length==e[i].length){r[n].push(e[i]);continue e}r.push([e[i]])}function o(e){if(e.length==1)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var r=0;r<e.length;++r)t+="case "+JSON.stringify(e[r])+":";t+="return true}return false;"}if(r.length>3){r.sort(function(e,t){return t.length-e.length});t+="switch(str.length){";for(var i=0;i<r.length;++i){var a=r[i];t+="case "+a[0].length+":";o(a)}t+="}"}else{o(e)}return new Function("str",t)}var Ne=Ee("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile");var We=Ee("class enum extends super const export import");var ze=Ee("implements interface let package private protected public static yield");var Oe=Ee("eval arguments");var Ie=Ee("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this");var He=/[\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/;var De="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var Pe="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿";var Fe=new RegExp("["+De+"]");var Be=new RegExp("["+De+Pe+"]");var je=/[\n\r\u2028\u2029]/;var Re=/\r\n|[\n\r\u2028\u2029]/g;var Ue=e.isIdentifierStart=function(e){if(e<65)return e===36;if(e<91)return true;if(e<97)return e===95;if(e<123)return true;return e>=170&&Fe.test(String.fromCharCode(e))};var Ve=e.isIdentifierChar=function(e){if(e<48)return e===36;if(e<58)return true;if(e<65)return false;if(e<91)return true;if(e<97)return e===95;if(e<123)return true;return e>=170&&Be.test(String.fromCharCode(e))};function qe(){this.line=m;this.column=s-g}function Ge(){m=1;s=g=0;v=true;$e()}function Ke(e,r){f=s;if(t.locations)d=new qe;h=e;$e();p=r;v=e.beforeExpr}function _e(){var e=t.onComment&&t.locations&&new qe;var i=s,n=r.indexOf("*/",s+=2);if(n===-1)S(s-2,"Unterminated comment");s=n+2;if(t.locations){Re.lastIndex=i;var o;while((o=Re.exec(r))&&o.index<s){++m;g=o.index+o[0].length}}if(t.onComment)t.onComment(true,r.slice(i+2,n),i,s,e,t.locations&&new qe)}function Xe(){var e=s;var n=t.onComment&&t.locations&&new qe;var o=r.charCodeAt(s+=2);while(s<i&&o!==10&&o!==13&&o!==8232&&o!==8329){++s;o=r.charCodeAt(s)}if(t.onComment)t.onComment(false,r.slice(e+2,s),e,s,n,t.locations&&new qe)}function $e(){while(s<i){var e=r.charCodeAt(s);if(e===32){++s}else if(e===13){++s;var n=r.charCodeAt(s);if(n===10){++s}if(t.locations){++m;g=s}}else if(e===10){++s;++m;g=s}else if(e<14&&e>8){++s}else if(e===47){var n=r.charCodeAt(s+1);if(n===42){_e()}else if(n===47){Xe()}else break}else if(e<14&&e>8||e===32||e===160){++s}else if(e>=5760&&He.test(String.fromCharCode(e))){++s}else{break}}}function Ye(){var e=r.charCodeAt(s+1);if(e>=48&&e<=57)return ft(true);++s;return Ke(ce)}function Ze(){var e=r.charCodeAt(s+1);if(v){++s;return lt()}if(e===61)return at(ve,2);return at(he,1)}function Je(){var e=r.charCodeAt(s+1);if(e===61)return at(ve,2);return at(Te,1)}function Qe(e){var t=r.charCodeAt(s+1);if(t===e)return at(e===124?be:we,2);if(t===61)return at(ve,2);return at(e===124?xe:Ce,1)}function et(){var e=r.charCodeAt(s+1);if(e===61)return at(ve,2);return at(ke,1)}function tt(e){var t=r.charCodeAt(s+1);if(t===e)return at(ge,2);if(t===61)return at(ve,2);return at(me,1)}function rt(e){var t=r.charCodeAt(s+1);var i=1;if(t===e){i=e===62&&r.charCodeAt(s+2)===62?3:2;if(r.charCodeAt(s+i)===61)return at(ve,i+1);return at(Me,i)}if(t===61)i=r.charCodeAt(s+2)===61?3:2;return at(Le,i)}function it(e){var t=r.charCodeAt(s+1);if(t===61)return at(Se,r.charCodeAt(s+2)===61?3:2);return at(e===61?pe:ye,1)}function nt(e){switch(e){case 46:return Ye();case 40:++s;return Ke(ae);case 41:++s;return Ke(le);case 59:++s;return Ke(ue);case 44:++s;return Ke(se);case 91:++s;return Ke(re);case 93:++s;return Ke(ie);case 123:++s;return Ke(ne);case 125:++s;return Ke(oe);case 58:++s;return Ke(fe);case 63:++s;return Ke(de);case 48:var t=r.charCodeAt(s+1);if(t===120||t===88)return ut();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ft(false);case 34:case 39:return ct(e);case 47:return Ze(e);case 37:case 42:return Je();case 124:case 38:return Qe(e);case 94:return et();case 43:case 45:return tt(e);case 60:case 62:return rt(e);case 61:case 33:return it(e);case 126:return at(ye,1)}return false}function ot(e){if(!e)u=s;else s=u+1;if(t.locations)c=new qe;if(e)return lt();if(s>=i)return Ke(E);var n=r.charCodeAt(s);if(Ue(n)||n===92)return vt();var o=nt(n);if(o===false){var a=String.fromCharCode(n);if(a==="\\"||Fe.test(a))return vt();S(s,"Unexpected character '"+a+"'")}return o}function at(e,t){var i=r.slice(s,s+t);s+=t;Ke(e,i)}function lt(){var e="",t,n,o=s;for(;;){if(s>=i)S(o,"Unterminated regular expression");var a=r.charAt(s);if(je.test(a))S(o,"Unterminated regular expression");if(!t){if(a==="[")n=true;else if(a==="]"&&n)n=false;else if(a==="/"&&!n)break;t=a==="\\"}else t=false;++s}var e=r.slice(o,s);++s;var l=pt();if(l&&!/^[gmsiy]*$/.test(l))S(o,"Invalid regexp flag");return Ke(M,new RegExp(e,l))}function st(e,t){var i=s,n=0;for(var o=0,a=t==null?Infinity:t;o<a;++o){var l=r.charCodeAt(s),u;if(l>=97)u=l-97+10;else if(l>=65)u=l-65+10;else if(l>=48&&l<=57)u=l-48;else u=Infinity;if(u>=e)break;++s;n=n*e+u}if(s===i||t!=null&&s-i!==t)return null;return n}function ut(){s+=2;var e=st(16);if(e==null)S(u+2,"Expected hexadecimal number");if(Ue(r.charCodeAt(s)))S(s,"Identifier directly after number");return Ke(L,e)}function ft(e){var t=s,i=false,n=r.charCodeAt(s)===48;if(!e&&st(10)===null)S(t,"Invalid number");if(r.charCodeAt(s)===46){++s;st(10);i=true}var o=r.charCodeAt(s);if(o===69||o===101){o=r.charCodeAt(++s);if(o===43||o===45)++s;if(st(10)===null)S(t,"Invalid number");i=true}if(Ue(r.charCodeAt(s)))S(s,"Identifier directly after number");var a=r.slice(t,s),l;if(i)l=parseFloat(a);else if(!n||a.length===1)l=parseInt(a,10);else if(/[89]/.test(a)||C)S(t,"Invalid number");else l=parseInt(a,8);return Ke(L,l)}function ct(e){s++;var n="";for(;;){if(s>=i)S(u,"Unterminated string constant");var o=r.charCodeAt(s);if(o===e){++s;return Ke(T,n)}if(o===92){o=r.charCodeAt(++s);var a=/^[0-7]+/.exec(r.slice(s,s+3));if(a)a=a[0];while(a&&parseInt(a,8)>255)a=a.slice(0,a.length-1);if(a==="0")a=null;++s;if(a){if(C)S(s-2,"Octal literal in strict mode");n+=String.fromCharCode(parseInt(a,8));s+=a.length-1}else{switch(o){case 110:n+="\n";break;case 114:n+="\r";break;case 120:n+=String.fromCharCode(dt(2));break;case 117:n+=String.fromCharCode(dt(4));break;case 85:n+=String.fromCharCode(dt(8));break;case 116:n+="	";break;case 98:n+="\b";break;case 118:n+="";break;case 102:n+="\f";break;case 48:n+="\x00";break;case 13:if(r.charCodeAt(s)===10)++s;case 10:if(t.locations){g=s;++m}break;default:n+=String.fromCharCode(o);break}}}else{if(o===13||o===10||o===8232||o===8329)S(u,"Unterminated string constant");n+=String.fromCharCode(o);++s}}}function dt(e){var t=st(16,e);if(t===null)S(u,"Bad character escape sequence");return t}var ht;function pt(){ht=false;var e,t=true,i=s;for(;;){var n=r.charCodeAt(s);if(Ve(n)){if(ht)e+=r.charAt(s);++s}else if(n===92){if(!ht)e=r.slice(i,s);ht=true;if(r.charCodeAt(++s)!=117)S(s,"Expecting Unicode escape sequence \\uXXXX");++s;var o=dt(4);var a=String.fromCharCode(o);if(!a)S(s-1,"Invalid Unicode escape");if(!(t?Ue(o):Ve(o)))S(s-4,"Invalid Unicode escape");e+=a}else{break}t=false}return ht?e:r.slice(i,s)}function vt(){var e=pt();var r=A;if(!ht){if(Ie(e))r=te[e];else if(t.forbidReserved&&(t.ecmaVersion===3?Ne:We)(e)||C&&ze(e))S(u,"The keyword '"+e+"' is reserved")}return Ke(r,e)}function mt(){y=u;b=f;w=d;ot()}function gt(e){C=e;s=b;while(s<g){g=r.lastIndexOf("\n",g-2)+1;--m}$e();ot()}function yt(){this.type=null;this.start=u;this.end=null}function bt(){this.start=c;this.end=null;if(n!==null)this.source=n}function wt(){var e=new yt;if(t.locations)e.loc=new bt;if(t.ranges)e.range=[u,0];return e}function xt(e){var r=new yt;r.start=e.start;if(t.locations){r.loc=new bt;r.loc.start=e.loc.start}if(t.ranges)r.range=[e.range[0],0];return r}function kt(e,r){e.type=r;e.end=b;if(t.locations)e.loc.end=w;if(t.ranges)e.range[1]=b;return e}function Ct(e){return t.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&e.expression.value==="use strict"}function St(e){if(h===e){mt();return true}}function Lt(){return!t.strictSemicolons&&(h===E||h===oe||je.test(r.slice(b,u)))}function Mt(){if(!St(ue)&&!Lt())At()}function Tt(e){if(h===e)mt();else At()}function At(){S(u,"Unexpected token")}function Et(e){if(e.type!=="Identifier"&&e.type!=="MemberExpression")S(e.start,"Assigning to rvalue");if(C&&e.type==="Identifier"&&Oe(e.name))S(e.start,"Assigning to "+e.name+" in strict mode")}function Nt(e){y=b=s;if(t.locations)w=new qe;x=C=null;k=[];ot();var r=e||wt(),i=true;if(!e)r.body=[];while(h!==E){var n=Ot();r.body.push(n);if(i&&Ct(n))gt(true);i=false}return kt(r,"Program")}var Wt={kind:"loop"},zt={kind:"switch"};function Ot(){if(h===he)ot(true);var e=h,t=wt();switch(e){case N:case O:mt();var i=e===N;if(St(ue)||Lt())t.label=null;else if(h!==A)At();else{t.label=Qt();Mt()}for(var n=0;n<k.length;++n){var o=k[n];if(t.label==null||o.name===t.label.name){if(o.kind!=null&&(i||o.kind==="loop"))break;if(t.label&&i)break}}if(n===k.length)S(t.start,"Unsyntactic "+e.keyword);return kt(t,i?"BreakStatement":"ContinueStatement");case I:mt();Mt();return kt(t,"DebuggerStatement");case D:mt();k.push(Wt);t.body=Ot();k.pop();Tt(_);t.test=It();Mt();return kt(t,"DoWhileStatement");case B:mt();k.push(Wt);Tt(ae);if(h===ue)return Dt(t,null);if(h===K){var a=wt();mt();Ft(a,true);if(a.declarations.length===1&&St(ee))return Pt(t,a);return Dt(t,a)}var a=Bt(false,true);if(St(ee)){Et(a);return Pt(t,a)}return Dt(t,a);case j:mt();return Zt(t,true);case R:mt();t.test=It();t.consequent=Ot();t.alternate=St(P)?Ot():null;return kt(t,"IfStatement");case U:if(!x)S(u,"'return' outside of function");mt();if(St(ue)||Lt())t.argument=null;else{t.argument=Bt();Mt()}return kt(t,"ReturnStatement");case V:mt();t.discriminant=It();t.cases=[];Tt(ne);k.push(zt);for(var l,s;h!=oe;){if(h===W||h===H){var f=h===W;if(l)kt(l,"SwitchCase");t.cases.push(l=wt());l.consequent=[];mt();if(f)l.test=Bt();else{if(s)S(y,"Multiple default clauses");s=true;l.test=null}Tt(fe)}else{if(!l)At();l.consequent.push(Ot())}}if(l)kt(l,"SwitchCase");mt();k.pop();return kt(t,"SwitchStatement");case q:mt();if(je.test(r.slice(b,u)))S(b,"Illegal newline after throw");t.argument=Bt();Mt();return kt(t,"ThrowStatement");case G:mt();t.block=Ht();t.handler=null;if(h===z){var c=wt();mt();Tt(ae);c.param=Qt();if(C&&Oe(c.param.name))S(c.param.start,"Binding "+c.param.name+" in strict mode");Tt(le);c.guard=null;c.body=Ht();t.handler=kt(c,"CatchClause")}t.finalizer=St(F)?Ht():null;if(!t.handler&&!t.finalizer)S(t.start,"Missing catch or finally clause");return kt(t,"TryStatement");case K:mt();t=Ft(t);Mt();return t;case _:mt();t.test=It();k.push(Wt);t.body=Ot();k.pop();return kt(t,"WhileStatement");case X:if(C)S(u,"'with' in strict mode");mt();t.object=It();t.body=Ot();return kt(t,"WithStatement");case ne:return Ht();case ue:mt();return kt(t,"EmptyStatement");default:var d=p,v=Bt();if(e===A&&v.type==="Identifier"&&St(fe)){for(var n=0;n<k.length;++n)if(k[n].name===d)S(v.start,"Label '"+d+"' is already declared");var m=h.isLoop?"loop":h===V?"switch":null;k.push({name:d,kind:m});t.body=Ot();k.pop();t.label=v;return kt(t,"LabeledStatement")}else{t.expression=v;Mt();return kt(t,"ExpressionStatement")}}}function It(){Tt(ae);var e=Bt();Tt(le);return e}function Ht(e){var t=wt(),r=true,i=false,n;t.body=[];Tt(ne);while(!St(oe)){var o=Ot();t.body.push(o);if(r&&Ct(o)){n=i;gt(i=true)}r=false}if(i&&!n)gt(false);return kt(t,"BlockStatement")}function Dt(e,t){e.init=t;Tt(ue);e.test=h===ue?null:Bt();Tt(ue);e.update=h===le?null:Bt();Tt(le);e.body=Ot();k.pop();return kt(e,"ForStatement")}function Pt(e,t){e.left=t;e.right=Bt();Tt(le);e.body=Ot();k.pop();return kt(e,"ForInStatement")}function Ft(e,t){e.declarations=[];e.kind="var";for(;;){var r=wt();r.id=Qt();if(C&&Oe(r.id.name))S(r.id.start,"Binding "+r.id.name+" in strict mode");r.init=St(pe)?Bt(true,t):null;e.declarations.push(kt(r,"VariableDeclarator"));if(!St(se))break}return kt(e,"VariableDeclaration")}function Bt(e,t){var r=jt(t);if(!e&&h===se){var i=xt(r);i.expressions=[r];while(St(se))i.expressions.push(jt(t));return kt(i,"SequenceExpression")}return r}function jt(e){var t=Rt(e);if(h.isAssign){var r=xt(t);r.operator=p;r.left=t;mt();r.right=jt(e);Et(t);return kt(r,"AssignmentExpression")}return t}function Rt(e){var t=Ut(e);if(St(de)){var r=xt(t);r.test=t;r.consequent=Bt(true);Tt(fe);r.alternate=Bt(true,e);return kt(r,"ConditionalExpression")}return t}function Ut(e){return Vt(qt(e),-1,e)}function Vt(e,t,r){var i=h.binop;if(i!=null&&(!r||h!==ee)){if(i>t){var n=xt(e);n.left=e;n.operator=p;mt();n.right=Vt(qt(r),i,r);var n=kt(n,/&&|\|\|/.test(n.operator)?"LogicalExpression":"BinaryExpression");return Vt(n,t,r)}}return e}function qt(e){if(h.prefix){var t=wt(),r=h.isUpdate;t.operator=p;t.prefix=true;mt();t.argument=qt(e);if(r)Et(t.argument);else if(C&&t.operator==="delete"&&t.argument.type==="Identifier")S(t.start,"Deleting local variable in strict mode");return kt(t,r?"UpdateExpression":"UnaryExpression")}var i=Gt();while(h.postfix&&!Lt()){var t=xt(i);t.operator=p;t.prefix=false;t.argument=i;Et(i);mt();i=kt(t,"UpdateExpression")}return i}function Gt(){return Kt(_t())}function Kt(e,t){if(St(ce)){var r=xt(e);r.object=e;r.property=Qt(true);r.computed=false;return Kt(kt(r,"MemberExpression"),t)}else if(St(re)){var r=xt(e);r.object=e;r.property=Bt();r.computed=true;Tt(ie);return Kt(kt(r,"MemberExpression"),t)}else if(!t&&St(ae)){var r=xt(e);r.callee=e;r.arguments=Jt(le,false);return Kt(kt(r,"CallExpression"),t)}else return e}function _t(){switch(h){case Y:var e=wt();mt();return kt(e,"ThisExpression");case A:return Qt();case L:case T:case M:var e=wt();e.value=p;e.raw=r.slice(u,f);mt();return kt(e,"Literal");case Z:case J:case Q:var e=wt();e.value=h.atomValue;e.raw=h.keyword;mt();return kt(e,"Literal");case ae:var i=c,n=u;mt();var o=Bt();o.start=n;o.end=f;if(t.locations){o.loc.start=i;o.loc.end=d}if(t.ranges)o.range=[n,f];Tt(le);return o;case re:var e=wt();mt();e.elements=Jt(ie,true,true);return kt(e,"ArrayExpression");case ne:return $t();case j:var e=wt();mt();return Zt(e,false);case $:return Xt();default:At()}}function Xt(){var e=wt();mt();e.callee=Kt(_t(),true);if(St(ae))e.arguments=Jt(le,false);else e.arguments=[];return kt(e,"NewExpression")}function $t(){var e=wt(),r=true,i=false;e.properties=[];mt();while(!St(oe)){if(!r){Tt(se);if(t.allowTrailingCommas&&St(oe))break}else r=false;var n={key:Yt()},o=false,a;if(St(fe)){n.value=Bt(true);a=n.kind="init"}else if(t.ecmaVersion>=5&&n.key.type==="Identifier"&&(n.key.name==="get"||n.key.name==="set")){o=i=true;a=n.kind=n.key.name;n.key=Yt();if(h!==ae)At();n.value=Zt(wt(),false)}else At();if(n.key.type==="Identifier"&&(C||i)){for(var l=0;l<e.properties.length;++l){var s=e.properties[l];if(s.key.name===n.key.name){var u=a==s.kind||o&&s.kind==="init"||a==="init"&&(s.kind==="get"||s.kind==="set");if(u&&!C&&a==="init"&&s.kind==="init")u=false;if(u)S(n.key.start,"Redefinition of property")}}}e.properties.push(n)}return kt(e,"ObjectExpression")}function Yt(){if(h===L||h===T)return _t();return Qt(true)}function Zt(e,t){if(h===A)e.id=Qt();else if(t)At();else e.id=null;e.params=[];var r=true;Tt(ae);while(!St(le)){if(!r)Tt(se);else r=false;e.params.push(Qt())}var i=x,n=k;x=true;k=[];e.body=Ht(true);x=i;k=n;if(C||e.body.body.length&&Ct(e.body.body[0])){for(var o=e.id?-1:0;o<e.params.length;++o){var a=o<0?e.id:e.params[o];if(ze(a.name)||Oe(a.name))S(a.start,"Defining '"+a.name+"' in strict mode");if(o>=0)for(var l=0;l<o;++l)if(a.name===e.params[l].name)S(a.start,"Argument name clash in strict mode")}}return kt(e,t?"FunctionDeclaration":"FunctionExpression")}function Jt(e,r,i){var n=[],o=true;while(!St(e)){if(!o){Tt(se);if(r&&t.allowTrailingCommas&&St(e))break}else o=false;if(i&&h===se)n.push(null);else n.push(Bt(true))}return n}function Qt(e){var r=wt();r.name=h===A?p:e&&!t.forbidReserved&&h.keyword||At();mt();return kt(r,"Identifier")}});(function(e){if(typeof exports=="object"&&typeof module=="object")return e(exports);if(typeof define=="function"&&define.amd)return define(["exports"],e);e((this.acorn||(this.acorn={})).walk={})})(function(e){"use strict";e.simple=function(t,r,i,n){if(!i)i=e.base;function o(e,t,n){var a=n||e.type,l=r[a];i[a](e,t,o);if(l)l(e,t)}o(t,n)};e.recursive=function(t,r,i,n){var o=i?e.make(i,n):n;function a(e,t,r){o[r||e.type](e,t,a)}a(t,r)};function t(e){if(typeof e=="string")return function(t){return t==e};else if(!e)return function(){return true};else return e}function r(e,t){this.node=e;this.state=t}e.findNodeAt=function(i,n,o,a,l,s){a=t(a);try{if(!l)l=e.base;var u=function(e,t,i){var s=i||e.type;if((n==null||e.start<=n)&&(o==null||e.end>=o))l[s](e,t,u);if(a(s,e)&&(n==null||e.start==n)&&(o==null||e.end==o))throw new r(e,t)};u(i,s)}catch(f){if(f instanceof r)return f;throw f}};e.findNodeAround=function(i,n,o,a,l){o=t(o);try{if(!a)a=e.base;var s=function(e,t,i){var l=i||e.type;if(e.start>n||e.end<n)return;a[l](e,t,s);if(o(l,e))throw new r(e,t)};s(i,l)}catch(u){if(u instanceof r)return u;throw u}};e.findNodeAfter=function(i,n,o,a,l){o=t(o);try{if(!a)a=e.base;var s=function(e,t,i){if(e.end<n)return;var l=i||e.type;if(e.start>=n&&o(l,e))throw new r(e,t);a[l](e,t,s)};s(i,l)}catch(u){if(u instanceof r)return u;throw u}};e.findNodeBefore=function(i,n,o,a,l){o=t(o);if(!a)a=e.base;var s;var u=function(e,t,i){if(e.start>n)return;var l=i||e.type;if(e.end<=n&&(!s||s.node.end<e.end)&&o(l,e))s=new r(e,t);a[l](e,t,u)};u(i,l);return s};e.make=function(t,r){if(!r)r=e.base;var i={};for(var n in r)i[n]=r[n];for(var n in t)i[n]=t[n];return i};function i(e,t,r){r(e,t)}function n(e,t,r){}var o=e.base={};o.Program=o.BlockStatement=function(e,t,r){for(var i=0;i<e.body.length;++i)r(e.body[i],t,"Statement")};o.Statement=i;o.EmptyStatement=n;o.ExpressionStatement=function(e,t,r){r(e.expression,t,"Expression")};o.IfStatement=function(e,t,r){r(e.test,t,"Expression");r(e.consequent,t,"Statement");if(e.alternate)r(e.alternate,t,"Statement")};o.LabeledStatement=function(e,t,r){r(e.body,t,"Statement")};o.BreakStatement=o.ContinueStatement=n;o.WithStatement=function(e,t,r){r(e.object,t,"Expression");r(e.body,t,"Statement")};o.SwitchStatement=function(e,t,r){r(e.discriminant,t,"Expression");for(var i=0;i<e.cases.length;++i){var n=e.cases[i];if(n.test)r(n.test,t,"Expression");for(var o=0;o<n.consequent.length;++o)r(n.consequent[o],t,"Statement")}};o.ReturnStatement=function(e,t,r){if(e.argument)r(e.argument,t,"Expression")};o.ThrowStatement=function(e,t,r){r(e.argument,t,"Expression")};o.TryStatement=function(e,t,r){r(e.block,t,"Statement");if(e.handler)r(e.handler.body,t,"ScopeBody");if(e.finalizer)r(e.finalizer,t,"Statement")};o.WhileStatement=function(e,t,r){r(e.test,t,"Expression");r(e.body,t,"Statement")};o.DoWhileStatement=o.WhileStatement;o.ForStatement=function(e,t,r){if(e.init)r(e.init,t,"ForInit");if(e.test)r(e.test,t,"Expression");if(e.update)r(e.update,t,"Expression");r(e.body,t,"Statement")};o.ForInStatement=function(e,t,r){r(e.left,t,"ForInit");r(e.right,t,"Expression");r(e.body,t,"Statement")};o.ForInit=function(e,t,r){if(e.type=="VariableDeclaration")r(e,t);else r(e,t,"Expression")};o.DebuggerStatement=n;o.FunctionDeclaration=function(e,t,r){r(e,t,"Function")};o.VariableDeclaration=function(e,t,r){for(var i=0;i<e.declarations.length;++i){var n=e.declarations[i];if(n.init)r(n.init,t,"Expression")}};o.Function=function(e,t,r){r(e.body,t,"ScopeBody")};o.ScopeBody=function(e,t,r){r(e,t,"Statement")};o.Expression=i;o.ThisExpression=n;o.ArrayExpression=function(e,t,r){for(var i=0;i<e.elements.length;++i){var n=e.elements[i];if(n)r(n,t,"Expression")}};o.ObjectExpression=function(e,t,r){for(var i=0;i<e.properties.length;++i)r(e.properties[i].value,t,"Expression")};o.FunctionExpression=o.FunctionDeclaration;o.SequenceExpression=function(e,t,r){for(var i=0;i<e.expressions.length;++i)r(e.expressions[i],t,"Expression")};o.UnaryExpression=o.UpdateExpression=function(e,t,r){r(e.argument,t,"Expression")};o.BinaryExpression=o.AssignmentExpression=o.LogicalExpression=function(e,t,r){r(e.left,t,"Expression");r(e.right,t,"Expression")};o.ConditionalExpression=function(e,t,r){r(e.test,t,"Expression");r(e.consequent,t,"Expression");r(e.alternate,t,"Expression")};o.NewExpression=o.CallExpression=function(e,t,r){r(e.callee,t,"Expression");if(e.arguments)for(var i=0;i<e.arguments.length;++i)r(e.arguments[i],t,"Expression")};o.MemberExpression=function(e,t,r){r(e.object,t,"Expression");if(e.computed)r(e.property,t,"Expression")};o.Identifier=o.Literal=n;function a(e){return{vars:Object.create(null),prev:e}}e.scopeVisitor=e.make({Function:function(e,t,r){var i=a(t);for(var n=0;n<e.params.length;++n)i.vars[e.params[n].name]={type:"argument",node:e.params[n]};if(e.id){var o=e.type=="FunctionDeclaration";(o?t:i).vars[e.id.name]={type:o?"function":"function name",node:e.id}}r(e.body,i,"ScopeBody")},TryStatement:function(e,t,r){r(e.block,t,"Statement");if(e.handler){var i=a(t);i.vars[e.handler.param.name]={type:"catch clause",node:e.handler.param};r(e.handler.body,i,"ScopeBody")}if(e.finalizer)r(e.finalizer,t,"Statement")},VariableDeclaration:function(e,t,r){for(var i=0;i<e.declarations.length;++i){var n=e.declarations[i];t.vars[n.id.name]={type:"var",node:n.id};if(n.init)r(n.init,t,"Expression")}}})});